{"ast":null,"code":"var _jsxFileName = \"/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/Pools/components/PoolCard.tsx\",\n    _s = $RefreshSig$();\n\nimport BigNumber from 'bignumber.js';\nimport React, { useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport { useModal, Flex } from '@pancakeswap-libs/uikit';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport { useERC20 } from 'hooks/useContract';\nimport { useSousApprove } from 'hooks/useApprove';\nimport useI18n from 'hooks/useI18n';\nimport { useSousStake } from 'hooks/useStake';\nimport { useSousUnstake } from 'hooks/useUnstake';\nimport { getBalanceNumber } from 'utils/formatBalance';\nimport { useSousHarvest } from 'hooks/useHarvest';\nimport { QuoteToken, PoolCategory } from 'config/constants/types';\nimport useTokenBalance from 'hooks/useTokenBalance';\nimport { getCakeAddress } from 'utils/addressHelpers';\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport Card from './Card';\nimport { usePriceCakeBusd } from \"../../../state/hooks\";\nimport useWithdrawFeeTimer from \"./useWithdrawFeeTimer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QuoteTitle = styled.p`\n  font-size: 20px;\n  font-weight: 600;\n  text-shadow: 1px 1px 5px #ccc;\n  margin-top: 5px;\n`;\n_c = QuoteTitle;\nconst QuoteTitle2 = styled.p`\n  color: #979797;\n  font-size: 15px;\n  font-weight: 300;\n  text-shadow: 0px 0px 0px #ccc;\n`;\n_c2 = QuoteTitle2;\nconst Text1 = styled.p`\n  color: #EBEBEB;\n  font-size: 15px;\n  font-weight: 400;\n  margin-bottom: 0px;\n  text-shadow: 0px 0px 0px #ccc;\n`;\n_c3 = Text1;\nconst Text11 = styled.p`\n  color: #EBEBEB;\n  font-size: 15px;\n  font-weight: 800;\n  margin-bottom: 0px;\n`;\nconst Divider = styled.div`\n  background-color: #7B7B7B;\n  height: 1.5px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  width: 100%;\n`;\n_c4 = Divider;\nconst SmallText = styled.p`\n  color: #979797;\n  font-size: 15px;\n  font-weight: 200;\n  margin-bottom: 0px;\n  margin-left: 20px;\n`;\n_c5 = SmallText;\nconst Wrapper = styled(Flex)`\n  svg {\n    margin-right: 0.25rem;\n  }\n`;\n_c6 = Wrapper;\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  min-height: 30px;\n  max-height: 30px;\n  max-width: 135px;\n  padding: 20px;\n`;\n_c7 = StyledBtn;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 15px;\n  width: 100%;\n  margin-bottom: 15px;\n  box-sizing: border-box;\n`;\n_c8 = StyledCardActions;\nconst StyledActionSpacer = styled.div`\n  height: ${props => props.theme.spacing[4]}px;\n  width: ${props => props.theme.spacing[4]}px;\n`;\n_c9 = StyledActionSpacer;\nconst StyledBtn2 = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 800;\n  width: 100%;\n  display: inline-flex;\n  min-height: 30px;\n  max-height: 30px;\n  max-width: 118px;\n  padding: 20px;\n\n  border: 2px solid #fff;\n  box-shadow: 0px 0px 7px #ffff;\n`;\n_c10 = StyledBtn2;\n\nconst PoolCard = ({\n  pool\n}) => {\n  _s();\n\n  const {\n    sousId,\n    stakingTokenName,\n    stakingTokenAddress,\n    apr,\n    apy,\n    tokenDecimals,\n    poolCategory,\n    isFinished,\n    userData,\n    stakingLimit,\n    pricePerShare\n  } = pool;\n  const cakeBalance = getBalanceNumber(useTokenBalance(getCakeAddress())).toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const isBnbPool = poolCategory === PoolCategory.BINANCE;\n  const TranslateString = useI18n();\n  const stakingTokenContract = useERC20(stakingTokenAddress);\n  const {\n    account\n  } = useWallet();\n  const {\n    onApprove\n  } = useSousApprove(stakingTokenContract, sousId);\n  const {\n    onStake\n  } = useSousStake(sousId, isBnbPool);\n  const {\n    onUnstake\n  } = useSousUnstake(sousId);\n  const {\n    onReward\n  } = useSousHarvest(sousId, isBnbPool);\n  const rvrsPrice = usePriceCakeBusd();\n  const {\n    secondsRemaining,\n    hasUnstakingFee\n  } = useWithdrawFeeTimer(userData ? userData.lastDepositedTime.toNumber() : 0, parseInt('259200', 10));\n  const [requestedApproval, setRequestedApproval] = useState(false);\n  const [pendingTx, setPendingTx] = useState(false);\n  const allowance = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.allowance) || 0);\n  const stakingTokenBalance = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.stakingTokenBalance) || 0);\n  const stakedBalance = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.stakedBalance) || 0);\n  const earnings = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.pendingReward) || 0);\n  const stakedBalanceUsd = stakedBalance.times(rvrsPrice);\n  const isOldSyrup = stakingTokenName === QuoteToken.SYRUP;\n  const accountHasStakedBalance = (stakedBalance === null || stakedBalance === void 0 ? void 0 : stakedBalance.toNumber()) > 0;\n  const needsApproval = !accountHasStakedBalance && !allowance.toNumber() && !isBnbPool;\n  const isCardActive = isFinished && accountHasStakedBalance;\n  const convertedLimit = new BigNumber(stakingLimit).multipliedBy(new BigNumber(10).pow(tokenDecimals));\n  const [onPresentDeposit] = useModal( /*#__PURE__*/_jsxDEV(DepositModal, {\n    max: stakingLimit && stakingTokenBalance.isGreaterThan(convertedLimit) ? convertedLimit : stakingTokenBalance,\n    onConfirm: onStake,\n    tokenName: stakingLimit ? `${stakingTokenName} (${stakingLimit} max)` : stakingTokenName\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this));\n  const [onPresentWithdraw] = useModal( /*#__PURE__*/_jsxDEV(WithdrawModal, {\n    max: stakedBalance,\n    onConfirm: onUnstake,\n    tokenName: stakingTokenName,\n    pricePerShare: pricePerShare\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this));\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true);\n      const txHash = await onApprove(); // user rejected tx or didn't go thru\n\n      if (!txHash) {\n        setRequestedApproval(false);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }, [onApprove, setRequestedApproval]);\n  const TVL = pool.tvl && pool.tvl.toNumber().toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const APY = apy && apy.toNumber().toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const StakedUSDBalance = getBalanceNumber(stakedBalanceUsd).toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const FiveDayROI = apr && apr.div(53).toNumber().toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const ExpectedBalance = apr && apr.div(365).times(7).times(0.01).times(getBalanceNumber(stakedBalanceUsd)).plus(getBalanceNumber(stakedBalanceUsd)).toNumber().toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const TotalAPY = apy && apy.plus(445).toNumber().toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const bal = getBalanceNumber(stakedBalance).toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  return /*#__PURE__*/_jsxDEV(Card, {\n    isActive: isCardActive,\n    isFinished: isFinished && sousId !== 0,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '34px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Wrapper, {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        padding: \"20px\",\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(QuoteTitle2, {\n            children: \"Total APY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(QuoteTitle, {\n            children: [TotalAPY, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          marginLeft: \"60px\",\n          children: [/*#__PURE__*/_jsxDEV(QuoteTitle2, {\n            children: \" TVL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(QuoteTitle, {\n            children: [\"$\", TVL]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"18px\",\n        children: [/*#__PURE__*/_jsxDEV(Text1, {\n          children: \"UST APY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text1, {\n          children: \"445%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"10px\",\n        children: [/*#__PURE__*/_jsxDEV(Text1, {\n          children: \"RVRS APY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text1, {\n          children: [APY, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"10px\",\n        children: [/*#__PURE__*/_jsxDEV(Text1, {\n          children: \" 7 Day ROI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text1, {\n          children: [FiveDayROI, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"14px\",\n        children: [/*#__PURE__*/_jsxDEV(Text1, {\n          children: \"Unstaked Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text1, {\n          children: cakeBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"10px\",\n        children: [/*#__PURE__*/_jsxDEV(Text1, {\n          children: \"Staked Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text1, {\n          children: bal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"12px\",\n        children: [/*#__PURE__*/_jsxDEV(SmallText, {\n          children: \"Balance (in UST)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SmallText, {\n          children: [\"$\", StakedUSDBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        marginTop: \"5px\",\n        children: [/*#__PURE__*/_jsxDEV(SmallText, {\n          children: \"Expected Balance (7 Days)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SmallText, {\n          children: [\"$\", ExpectedBalance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n        alignItems: \"end\",\n        children: /*#__PURE__*/_jsxDEV(Flex, {\n          alignItems: \"end\",\n          children: /*#__PURE__*/_jsxDEV(StyledCardActions, {\n            style: {\n              alignItems: \"end\"\n            },\n            children: account && (needsApproval && !isOldSyrup ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(StyledBtn, {\n                style: {\n                  minWidth: '100px',\n                  maxWidth: '150px',\n                  boxShadow: '0px 0px 5px #fff',\n                  'marginTop': '10px'\n                },\n                disabled: isFinished || requestedApproval,\n                onClick: handleApprove,\n                children: \"Enable Staking\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 13\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(StyledBtn, {\n                style: {\n                  marginTop: '20px'\n                },\n                disabled: stakedBalance.eq(new BigNumber(0)) || pendingTx,\n                onClick: isOldSyrup ? async () => {\n                  setPendingTx(true);\n                  await onUnstake('0');\n                  setPendingTx(false);\n                } : onPresentWithdraw,\n                children: \"Unstake (0,0)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(StyledActionSpacer, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 15\n              }, this), !isOldSyrup && /*#__PURE__*/_jsxDEV(StyledBtn2, {\n                style: {\n                  marginTop: '20px'\n                },\n                disabled: isFinished && sousId !== 0,\n                onClick: onPresentDeposit,\n                children: \"Stake (3,3)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PoolCard, \"TepvsVe9N1kN/Y/DUx3hZXHoYVM=\", false, function () {\n  return [useTokenBalance, useI18n, useERC20, useWallet, useSousApprove, useSousStake, useSousUnstake, useSousHarvest, usePriceCakeBusd, useWithdrawFeeTimer, useModal, useModal];\n});\n\n_c11 = PoolCard;\nexport default PoolCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"QuoteTitle\");\n$RefreshReg$(_c2, \"QuoteTitle2\");\n$RefreshReg$(_c3, \"Text1\");\n$RefreshReg$(_c4, \"Divider\");\n$RefreshReg$(_c5, \"SmallText\");\n$RefreshReg$(_c6, \"Wrapper\");\n$RefreshReg$(_c7, \"StyledBtn\");\n$RefreshReg$(_c8, \"StyledCardActions\");\n$RefreshReg$(_c9, \"StyledActionSpacer\");\n$RefreshReg$(_c10, \"StyledBtn2\");\n$RefreshReg$(_c11, \"PoolCard\");","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/Pools/components/PoolCard.tsx"],"names":["BigNumber","React","useCallback","useState","styled","useModal","Flex","useWallet","useERC20","useSousApprove","useI18n","useSousStake","useSousUnstake","getBalanceNumber","useSousHarvest","QuoteToken","PoolCategory","useTokenBalance","getCakeAddress","DepositModal","WithdrawModal","Card","usePriceCakeBusd","useWithdrawFeeTimer","QuoteTitle","p","QuoteTitle2","Text1","Text11","Divider","div","SmallText","Wrapper","StyledBtn","button","StyledCardActions","StyledActionSpacer","props","theme","spacing","StyledBtn2","PoolCard","pool","sousId","stakingTokenName","stakingTokenAddress","apr","apy","tokenDecimals","poolCategory","isFinished","userData","stakingLimit","pricePerShare","cakeBalance","toLocaleString","maximumFractionDigits","isBnbPool","BINANCE","TranslateString","stakingTokenContract","account","onApprove","onStake","onUnstake","onReward","rvrsPrice","secondsRemaining","hasUnstakingFee","lastDepositedTime","toNumber","parseInt","requestedApproval","setRequestedApproval","pendingTx","setPendingTx","allowance","stakingTokenBalance","stakedBalance","earnings","pendingReward","stakedBalanceUsd","times","isOldSyrup","SYRUP","accountHasStakedBalance","needsApproval","isCardActive","convertedLimit","multipliedBy","pow","onPresentDeposit","isGreaterThan","onPresentWithdraw","handleApprove","txHash","e","console","error","TVL","tvl","APY","StakedUSDBalance","FiveDayROI","ExpectedBalance","plus","TotalAPY","bal","padding","alignItems","flex","minWidth","maxWidth","boxShadow","marginTop","eq"],"mappings":"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","sourcesContent":["import BigNumber from 'bignumber.js'\nimport React, { useCallback, useState } from 'react'\nimport styled from 'styled-components'\nimport { useModal, Flex } from '@pancakeswap-libs/uikit'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport UnlockButton from 'components/UnlockButton'\nimport { useERC20 } from 'hooks/useContract'\nimport { useSousApprove } from 'hooks/useApprove'\nimport useI18n from 'hooks/useI18n'\nimport { useSousStake } from 'hooks/useStake'\nimport { useSousUnstake } from 'hooks/useUnstake'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { useSousHarvest } from 'hooks/useHarvest'\nimport Balance from 'components/Balance'\nimport { QuoteToken, PoolCategory } from 'config/constants/types'\nimport { Pool } from 'state/types'\nimport useTokenBalance from 'hooks/useTokenBalance'\nimport { getCakeAddress } from 'utils/addressHelpers'\nimport { FaExternalLinkAlt, FaGithub, FaLongArrowAltRight } from 'react-icons/fa'\nimport DepositModal from './DepositModal'\nimport WithdrawModal from './WithdrawModal'\nimport Card from './Card'\nimport {usePriceCakeBusd} from \"../../../state/hooks\";\nimport useWithdrawFeeTimer from \"./useWithdrawFeeTimer\";\nimport WithdrawalFeeTimer from \"./withdrawFeeTimer\";\n\n\nconst QuoteTitle = styled.p`\n  font-size: 20px;\n  font-weight: 600;\n  text-shadow: 1px 1px 5px #ccc;\n  margin-top: 5px;\n`\n\nconst QuoteTitle2 = styled.p`\n  color: #979797;\n  font-size: 15px;\n  font-weight: 300;\n  text-shadow: 0px 0px 0px #ccc;\n`\n\nconst Text1 = styled.p`\n  color: #EBEBEB;\n  font-size: 15px;\n  font-weight: 400;\n  margin-bottom: 0px;\n  text-shadow: 0px 0px 0px #ccc;\n`\n\nconst Text11 = styled.p`\n  color: #EBEBEB;\n  font-size: 15px;\n  font-weight: 800;\n  margin-bottom: 0px;\n`\n\nconst Divider = styled.div`\n  background-color: #7B7B7B;\n  height: 1.5px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 15px;\n  margin-bottom: 15px;\n  width: 100%;\n`\n\nconst SmallText = styled.p`\n  color: #979797;\n  font-size: 15px;\n  font-weight: 200;\n  margin-bottom: 0px;\n  margin-left: 20px;\n`\n\nconst Wrapper = styled(Flex)`\n  svg {\n    margin-right: 0.25rem;\n  }\n`\n\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  min-height: 30px;\n  max-height: 30px;\n  max-width: 135px;\n  padding: 20px;\n`\n\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 15px;\n  width: 100%;\n  margin-bottom: 15px;\n  box-sizing: border-box;\n`\n\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`\n\nconst StyledBtn2 = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 800;\n  width: 100%;\n  display: inline-flex;\n  min-height: 30px;\n  max-height: 30px;\n  max-width: 118px;\n  padding: 20px;\n\n  border: 2px solid #fff;\n  box-shadow: 0px 0px 7px #ffff;\n`\n\n\ninterface PoolWithApy extends Pool {\n  apy: BigNumber\n  apr: BigNumber\n}\n\ninterface HarvestProps {\n  pool: PoolWithApy\n}\n\nconst PoolCard: React.FC<HarvestProps> = ({ pool }) => {\n  const {\n    sousId,\n    stakingTokenName,\n    stakingTokenAddress,\n    apr,\n    apy,\n    tokenDecimals,\n    poolCategory,\n    isFinished,\n    userData,\n    stakingLimit,\n    pricePerShare\n  } = pool\n\n  const cakeBalance = getBalanceNumber(useTokenBalance(getCakeAddress())).toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const isBnbPool = poolCategory === PoolCategory.BINANCE\n  const TranslateString = useI18n()\n  const stakingTokenContract = useERC20(stakingTokenAddress)\n  const { account } = useWallet()\n  const { onApprove } = useSousApprove(stakingTokenContract, sousId)\n  const { onStake } = useSousStake(sousId, isBnbPool)\n  const { onUnstake } = useSousUnstake(sousId)\n  const { onReward } = useSousHarvest(sousId, isBnbPool)\n  const rvrsPrice = usePriceCakeBusd()\n  const { secondsRemaining, hasUnstakingFee } = useWithdrawFeeTimer(\n      userData ? userData.lastDepositedTime.toNumber() : 0,\n      parseInt('259200', 10)\n  );\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const [pendingTx, setPendingTx] = useState(false)\n  const allowance = new BigNumber(userData?.allowance || 0)\n  const stakingTokenBalance = new BigNumber(userData?.stakingTokenBalance || 0)\n  const stakedBalance = new BigNumber(userData?.stakedBalance || 0)\n  const earnings = new BigNumber(userData?.pendingReward || 0)\n  const stakedBalanceUsd = stakedBalance.times(rvrsPrice)\n  const isOldSyrup = stakingTokenName === QuoteToken.SYRUP\n  const accountHasStakedBalance = stakedBalance?.toNumber() > 0\n  const needsApproval = !accountHasStakedBalance && !allowance.toNumber() && !isBnbPool\n  const isCardActive = isFinished && accountHasStakedBalance\n  const convertedLimit = new BigNumber(stakingLimit).multipliedBy(new BigNumber(10).pow(tokenDecimals))\n  const [onPresentDeposit] = useModal(\n    <DepositModal\n      max={stakingLimit && stakingTokenBalance.isGreaterThan(convertedLimit) ? convertedLimit : stakingTokenBalance}\n      onConfirm={onStake}\n      tokenName={stakingLimit ? `${stakingTokenName} (${stakingLimit} max)` : stakingTokenName}\n    />,\n  )\n  const [onPresentWithdraw] = useModal(\n    <WithdrawModal max={stakedBalance} onConfirm={onUnstake} tokenName={stakingTokenName} pricePerShare={pricePerShare} />,\n  )\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n      const txHash = await onApprove()\n      // user rejected tx or didn't go thru\n      if (!txHash) {\n        setRequestedApproval(false)\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }, [onApprove, setRequestedApproval])\n  const TVL = pool.tvl && pool.tvl.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const APY = apy && apy.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const StakedUSDBalance = getBalanceNumber(stakedBalanceUsd).toLocaleString('en-us',{ maximumFractionDigits: 0 })\n  const FiveDayROI = apr && apr.div(53).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const ExpectedBalance = apr && apr.div(365).times(7).times(0.01).times(getBalanceNumber(stakedBalanceUsd)).plus(getBalanceNumber(stakedBalanceUsd)).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const TotalAPY = apy && apy.plus(445).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const bal = getBalanceNumber(stakedBalance).toLocaleString('en-us',{ maximumFractionDigits: 0 });\n\n  return (\n    <Card isActive={isCardActive} isFinished={isFinished && sousId !== 0}>\n\n      <div style={{padding: '34px'}}>\n\n        <Wrapper \n          justifyContent=\"center\" \n          alignItems=\"center\"\n          padding='20px' \n          >\n\n          <Flex flexDirection=\"column\" alignItems='center'>\n            <QuoteTitle2>Total APY</QuoteTitle2>\n            <QuoteTitle>{TotalAPY}%</QuoteTitle>\n          </Flex>\n          <Flex  flexDirection=\"column\" alignItems='center' marginLeft='60px'>\n            <QuoteTitle2> TVL</QuoteTitle2>\n            <QuoteTitle >${TVL}</QuoteTitle>\n          </Flex>\n        </Wrapper>\n\n        <Flex justifyContent='space-between' marginTop='18px'>\n          <Text1>UST APY</Text1>\n          <Text1>445%</Text1>\n        </Flex>\n\n        \n        <Flex justifyContent='space-between' marginTop='10px'>\n          <Text1>RVRS APY</Text1>\n          <Text1>{APY}%</Text1>\n        </Flex>\n\n        <Flex justifyContent='space-between' marginTop='10px'>\n          <Text1> 7 Day ROI</Text1>\n          <Text1>{FiveDayROI}%</Text1>\n        </Flex>\n\n        <Divider/>\n\n        <Flex justifyContent='space-between' marginTop='14px'>\n          <Text1>Unstaked Balance</Text1>\n          <Text1>{cakeBalance}</Text1>\n        </Flex>\n\n        <Flex justifyContent='space-between' marginTop='10px'>\n          <Text1>Staked Balance</Text1>\n          <Text1>{bal}</Text1>\n        </Flex>\n\n        <Flex justifyContent='space-between' marginTop='12px'>\n          <SmallText>Balance (in UST)</SmallText>\n          <SmallText>${StakedUSDBalance}</SmallText>\n        </Flex>\n\n        <Flex justifyContent='space-between' marginTop='5px'>\n          <SmallText>Expected Balance (7 Days)</SmallText>\n          <SmallText>${ExpectedBalance}</SmallText>\n        </Flex>\n\n        \n\n\n\n\n        <Wrapper alignItems=\"end\">\n\n        <Flex alignItems=\"end\">\n\n          <StyledCardActions style={{alignItems:\"end\"}} >\n            {account && (needsApproval && !isOldSyrup ? (\n            \n            <div style={{ flex: 1 }}>\n              <StyledBtn\n\n \n                style={{minWidth:'100px', maxWidth:'150px', boxShadow:'0px 0px 5px #fff', 'marginTop':'10px'}}\n                disabled={isFinished || requestedApproval}\n                onClick={handleApprove}>\n                Enable Staking\n              </StyledBtn>\n            </div>\n\n            ) : ( <>\n\n              <StyledBtn \n                style={{marginTop:'20px'}}\n                disabled={stakedBalance.eq(new BigNumber(0)) || pendingTx}\n                onClick={ isOldSyrup ? async () => {\n                  setPendingTx(true)\n                  await onUnstake('0')\n                  setPendingTx(false)} : onPresentWithdraw }>\n                Unstake (0,0)\n              </StyledBtn>\n\n              <StyledActionSpacer/>\n                {!isOldSyrup && (\n                <StyledBtn2 \n                  style={{marginTop:'20px'}} \n                  disabled={isFinished && sousId !== 0} \n                  onClick={onPresentDeposit}>\n                  Stake (3,3)\n                </StyledBtn2>)} </> ))}\n              </StyledCardActions> \n                    \n            </Flex>\n        </Wrapper>\n      </div>\n    </Card>\n  )\n}\n\nexport default PoolCard\n"]},"metadata":{},"sourceType":"module"}