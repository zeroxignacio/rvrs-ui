{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20;import BigNumber from'bignumber.js';import React,{useCallback,useState}from'react';import styled from'styled-components';import{useModal,Flex}from'@pancakeswap-libs/uikit';import{useWallet}from'@binance-chain/bsc-use-wallet';import{useERC20}from'hooks/useContract';import{useSousApproveBurn}from'hooks/useApprove';import useI18n from'hooks/useI18n';import{useSousStakeBurn}from'hooks/useStake';import{useSousUnstakeBurn}from'hooks/useUnstake';import useBlock from'hooks/useBlock';import{getBalanceNumber}from'utils/formatBalance';import{useSousHarvestBurn}from'hooks/useHarvest';import{QuoteToken,PoolCategory}from'config/constants/types';import{FaHistory}from'react-icons/fa';import ExpandableSectionButton from'components/ExpandableSectionButton';import Container from'components/layout/Container';import DepositModal from'./DepositModal';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DCard=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nbackground-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\\n  border-radius: 15px;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 25px;\\n  position: center;\\n  text-align: center;\\n\\n  border:0px solid #fff;\\n  box-shadow: 0px 0px 0px #ccc;\\n\"])));var CCARD=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nbackground: #1E2129;\\nborder-radius: 10px;\\nflex-direction: column;\\njustify-content: space-around;\\npadding: 25px;\\nposition: center;\\ntext-align: center;\\n\"])));var Wrapper=styled(Flex)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  svg {\\n    margin-right: 0.25rem;\\n  }\\n\"])));var StyledBtn=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  -webkit-box-align: center;\\n  align-items: center;\\n  background-color: #2E3543 !important;\\n  border: 1px;\\n  border-style: solid !important;\\n  border-color: #2E3543 !important;\\n  border-radius: 8px;\\n  color: #ffff;\\n  font-size: 15px;\\n  font-weight: 400;\\n  width: 100%;\\n  display: inline-flex;\\n  margin-top: 18px;\\n  min-height: 18px;\\n  max-height: 30px;\\n  max-width: 128px;\\n  padding: 20px;\\n  box-shadow: 0px 0px 5px #ccc;\\n\\n  \"])));var StyledClaim=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  -webkit-box-align: center;\\n  align-items: center;\\n  background-color: #2E3543 !important;\\n  border: 1px;\\n  border-style: solid !important;\\n  border-color: #2E3543 !important;\\n  border-radius: 8px;\\n  color: #ffff;\\n  font-size: 15px;\\n  font-weight: 400;\\n  width: 100%;\\n  display: inline-flex;\\n  margin-top: 18px;\\n  min-height: 18px;\\n  max-height: 30px;\\n  max-width: 128px;\\n  padding: 20px;\\n  \"])));var ClaimBtn=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    -webkit-box-align: center;\\n    align-items: center;\\n    margin-top: 18px;\\n    background-color: rgba(0, 0, 0,0) !important;\\n    border: 1px;\\n    border-style: solid !important;\\n    border-color: #ffff !important;\\n    border-radius: 10px;\\n    color: #ffff;\\n    font-size: 15px;\\n    font-weight: 400;\\n    width: 100%;\\n    display: inline-flex;\\n    min-height: 18px;\\n    max-height: 30px;\\n    max-width: 80px;\\n    padding: 20px;\\n  \"])));var ClaimBtn2=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    -webkit-box-align: center;\\n    align-items: center;\\n    margin-top: 18px;\\n    background-color: rgba(0, 0, 0,0) !important;\\n    border: 1px;\\n    border-style: solid !important;\\n    border-color: #ffff !important;\\n    border-radius: 10px;\\n    color: #ffff;\\n    font-size: 15px;\\n    font-weight: 400;\\n    width: 100%;\\n    display: inline-flex;\\n    min-height: 18px;\\n    max-height: 30px;\\n    max-width: 180px;\\n    padding: 20px;\\n  \"])));var ExpandingWrapper=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  height: \",\";\\n  overflow: hidden;\\n\"])),function(props){return props.expanded?'100%':'0px';});var Quote=styled.p(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    font-size: 15px;\\n    font-weight: 500;\\n    margin-bottom: 0px;\\n    text-shadow: 0px 0px 5px #ccc;\\n\"])));var Rewards=styled.p(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n    font-size: 15px;\\n    font-weight: 600;\\n    margin-bottom: 0px;\\n    text-shadow: 0px 0px 0px #ccc;\\n\"])));var Quote2=styled.p(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n    font-size: 15px;\\n    font-weight: 300;\\n    margin-bottom: 0px;\\n\"])));var Quote3=styled.p(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n    font-size: 15px;\\n    font-weight: 700;\\n    margin-bottom: 0px;\\n    text-shadow: 1px 1px 10px #ccc;\\n    margin-top: 7px;\\n\"])));var QuoteBox=styled.p(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  font-size: 15px;\\n  font-weight: 700;\\n  margin-bottom: 0px;\\n  text-shadow: 1px 1px 10px #ccc;\\n  box-shadow: 0px 0px 0px #fff;\\n  box-color: #fff\\n\"])));var DashboardPage2=styled(Container)(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  min-height: calc(1vh - 64px);\\n  padding-top: 16px;\\n  padding-bottom: 6px;\\n  padding: 5px;\\n  max-width: 770px;\\n\\n  \",\" {\\n    padding-top: 24px;\\n    padding-bottom: 24px;\\n  }\\n\\n  \",\" {\\n    padding-top: 21px;\\n    padding-bottom: 32px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.sm;},function(_ref2){var theme=_ref2.theme;return theme.mediaQueries.lg;});var Divider=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  background-color: #7B7B7B;\\n  height: 1px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 25px;\\n  margin-bottom: 15px;\\n  width: 100%;\\n\"])));var PoolCard=function PoolCard(_ref3){var pool2=_ref3.pool2;var sousId=pool2.sousId,image=pool2.image,tokenName=pool2.tokenName,stakingTokenName=pool2.stakingTokenName,stakingTokenAddress=pool2.stakingTokenAddress,projectLink=pool2.projectLink,harvest=pool2.harvest,apy=pool2.apy,tokenDecimals=pool2.tokenDecimals,poolCategory=pool2.poolCategory,totalStaked=pool2.totalStaked,startBlock=pool2.startBlock,endBlock=pool2.endBlock,isFinished=pool2.isFinished,isDepositFinished=pool2.isDepositFinished,userData=pool2.userData,stakingLimit=pool2.stakingLimit,tokenPoolAddress=pool2.tokenPoolAddress,quoteTokenPoolAddress=pool2.quoteTokenPoolAddress,notFinished=pool2.notFinished,lockBlock=pool2.lockBlock;var isBnbPool=poolCategory===PoolCategory.BINANCE;var TranslateString=useI18n();var stakingTokenContract=useERC20(stakingTokenAddress);var _useWallet=useWallet(),account=_useWallet.account;var block=useBlock();var _useSousApproveBurn=useSousApproveBurn(stakingTokenContract,sousId),onApprove=_useSousApproveBurn.onApprove;var _useSousStakeBurn=useSousStakeBurn(sousId,isBnbPool),onStake=_useSousStakeBurn.onStake;var _useSousUnstakeBurn=useSousUnstakeBurn(sousId),onUnstake=_useSousUnstakeBurn.onUnstake;var _useSousHarvestBurn=useSousHarvestBurn(sousId,isBnbPool),onReward=_useSousHarvestBurn.onReward;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),requestedApproval=_useState2[0],setRequestedApproval=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),pendingTx=_useState4[0],setPendingTx=_useState4[1];var allowance=new BigNumber((userData===null||userData===void 0?void 0:userData.allowance)||0);var stakingTokenBalance=new BigNumber((userData===null||userData===void 0?void 0:userData.stakingTokenBalance)||0);var stakedBalance=new BigNumber((userData===null||userData===void 0?void 0:userData.stakedBalance)||0);var earnings=new BigNumber((userData===null||userData===void 0?void 0:userData.pendingReward)||0);var daysRemaining=block>startBlock?(endBlock-block)*2*0.000277778*0.0416667:(endBlock-startBlock)*2*0.000277778*0.0416667;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showExpandableSection=_useState6[0],setShowExpandableSection=_useState6[1];var blocksDepositFinished=Math.max(lockBlock-block,0);var blocksRemaining=Math.ceil(endBlock-block).toLocaleString('en-us',{maximumFractionDigits:1});var isOldSyrup=stakingTokenName===QuoteToken.SYRUP;var accountHasStakedBalance=(stakedBalance===null||stakedBalance===void 0?void 0:stakedBalance.toNumber())>0;var needsApproval=!accountHasStakedBalance&&!allowance.toNumber()&&!isBnbPool;var isCardActive=isFinished&&accountHasStakedBalance;var convertedLimit=new BigNumber(stakingLimit).multipliedBy(new BigNumber(10).pow(tokenDecimals));var _useModal=useModal(/*#__PURE__*/_jsx(DepositModal,{max:stakingLimit&&stakingTokenBalance.isGreaterThan(convertedLimit)?convertedLimit:stakingTokenBalance,onConfirm:onStake,tokenName:stakingLimit?\"\".concat(stakingTokenName,\" (\").concat(stakingLimit,\" max)\"):stakingTokenName})),_useModal2=_slicedToArray(_useModal,1),onPresentDeposit=_useModal2[0];var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var txHash;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setRequestedApproval(true);_context.next=4;return onApprove();case 4:txHash=_context.sent;// user rejected tx or didn't go thru\nif(!txHash){setRequestedApproval(false);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[onApprove,setRequestedApproval]);var APR=apy&&apy.toNumber().toLocaleString('en-us',{maximumFractionDigits:0});var NetROI=apy&&apy.div(365).times(daysRemaining).toNumber().toLocaleString('en-us',{maximumFractionDigits:1});var dailyROI=apy&&apy.div(365).toNumber().toLocaleString('en-us',{maximumFractionDigits:1});var FiveDayROI=apy&&apy.div(365).times(5).toNumber().toLocaleString('en-us',{maximumFractionDigits:1});var TVL=pool2.tvl&&pool2.tvl.toNumber().toLocaleString('en-us',{maximumFractionDigits:0});var NetProfitNumber=apy&&apy.div(365).times(daysRemaining).minus(100).toNumber();var Profit=NetProfitNumber&&NetProfitNumber.toLocaleString('en-us',{maximumFractionDigits:1});// console.log(pool2.sousId, pool2.tvl && pool2.tvl.toNumber())\nvar ClaimableRVRS=getBalanceNumber(earnings,tokenDecimals).toLocaleString('en-us',{maximumFractionDigits:1});var ForfeitedA=getBalanceNumber(stakedBalance).toLocaleString('en-us',{maximumFractionDigits:1});return/*#__PURE__*/_jsx(DashboardPage2,{children:/*#__PURE__*/_jsxs(Card,{isActive:isCardActive,isFinished:isFinished&&sousId!==0,children:[sousId===0&&/*#__PURE__*/_jsx(PoolFinishedSash,{}),/*#__PURE__*/_jsx(Wrapper,{justifyContent:\"space-between\",alignItems:\"center\",mb:\"0px\",padding:\"15px\",children:/*#__PURE__*/_jsx(Flex,{flexDirection:\"column\",alignItems:\"flex-end\",children:/*#__PURE__*/_jsxs(Quote,{children:[tokenName,\" Bonding Pool\"]})})}),/*#__PURE__*/_jsx(DCard,{children:/*#__PURE__*/_jsxs(Wrapper,{justifyContent:\"space-between\",alignItems:\"center\",mb:\"0px\",children:[notFinished&&/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",alignItems:\"start\",children:[/*#__PURE__*/_jsx(Quote,{children:\"Current Net ROI\"}),NetProfitNumber&&NetProfitNumber>0?/*#__PURE__*/_jsxs(Quote3,{children:[Profit,\"%\"]}):/*#__PURE__*/_jsx(Quote3,{children:\"Sold Out\"})]}),notFinished&&/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",alignItems:\"start\",children:[/*#__PURE__*/_jsx(Quote,{children:\"Vesting\"}),daysRemaining>0?/*#__PURE__*/_jsxs(Quote3,{children:[daysRemaining.toLocaleString('en-us',{maximumFractionDigits:1}),\" Days\"]}):/*#__PURE__*/_jsx(Quote3,{children:\"Ended\"})]}),isFinished&&/*#__PURE__*/_jsx(Flex,{flexDirection:\"column\",alignItems:\"start\",children:/*#__PURE__*/_jsxs(QuoteBox,{children:[/*#__PURE__*/_jsx(FaHistory,{}),\"Pool Ended \"]})}),/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",alignItems:\"start\",children:[/*#__PURE__*/_jsx(Quote,{children:\"TVB\"}),/*#__PURE__*/_jsxs(Quote3,{children:[\"$\",TVL]})]}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"right\",children:/*#__PURE__*/_jsx(ExpandableSectionButton,{onClick:function onClick(){return setShowExpandableSection(!showExpandableSection);}})})]})}),/*#__PURE__*/_jsx(ExpandingWrapper,{expanded:showExpandableSection,children:/*#__PURE__*/_jsxs(CCARD,{children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",marginTop:\"20px\",children:[/*#__PURE__*/_jsx(Quote,{children:\"Total Value Bonded\"}),/*#__PURE__*/_jsxs(Quote,{children:[\"$\",TVL]})]}),notFinished&&/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",marginTop:\"10px\",children:[/*#__PURE__*/_jsx(Quote,{children:\"Daily Returns\"}),/*#__PURE__*/_jsxs(Quote,{children:[dailyROI,\"%\"]})]}),notFinished&&/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",marginTop:\"10px\",children:[/*#__PURE__*/_jsx(Quote,{children:\"Current Net ROI\"}),NetProfitNumber&&NetProfitNumber>0?/*#__PURE__*/_jsxs(Quote3,{children:[Profit,\"%\"]}):/*#__PURE__*/_jsx(Quote3,{children:\"Sold Out\"})]}),notFinished&&/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",marginTop:\"25px\",children:[/*#__PURE__*/_jsx(Quote,{children:\" Your Forfeited Assets\"}),/*#__PURE__*/_jsx(Quote,{children:ForfeitedA})]}),/*#__PURE__*/_jsxs(Flex,{marginTop:\"10px\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Quote,{children:\" Claimable RVRS\"}),/*#__PURE__*/_jsx(Quote,{children:ClaimableRVRS})]}),notFinished&&/*#__PURE__*/_jsx(Flex,{justifyContent:\"space-between\",marginTop:\"20px\",children:/*#__PURE__*/_jsxs(Quote2,{children:[\"Once forfeited to the Reverseum, assets cannot be recovered. Net ROI is is a global indicator that shows the ROI if you would enter at THIS POINT IN TIME, thus over the course of the pool, it will go negative - this does not mean that you PERSONALLY will  necessarily make a loss. Rewards in RVRS are linearly vested for \",daysRemaining.toLocaleString('en-us',{maximumFractionDigits:1}),\" more days (Based on 2s block times)\"]})}),/*#__PURE__*/_jsx(StyledCardActions,{children:account&&(needsApproval&&!isOldSyrup?/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(StyledBtn,{style:{justifyContent:\"center\",maxWidth:'160px'},disabled:isFinished||isDepositFinished,onClick:handleApprove,children:\"Enable Pools\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledActionSpacer,{}),!isOldSyrup&&/*#__PURE__*/_jsx(StyledBtn,{style:{justifyContent:\"center\",maxWidth:'160px'},disabled:isFinished||isDepositFinished||NetProfitNumber&&NetProfitNumber<0,onClick:onPresentDeposit,children:NetProfitNumber>0?'Bond Assets':'Sold Out'}),account&&harvest&&!isOldSyrup&&/*#__PURE__*/_jsx(ClaimBtn,{style:{marginLeft:'20px',justifyContent:\"center\"},disabled:!earnings.toNumber()||requestedApproval||pendingTx,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setPendingTx(true);_context2.next=3;return onReward();case 3:setPendingTx(false);case 4:case\"end\":return _context2.stop();}}},_callee2);})),children:\"Claim\"})]}))})]})})]})});};var PoolFinishedSash=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  background-image: url('/images/pool-finished-sash.svg');\\n  background-position: top right;\\n  background-repeat: not-repeat;\\n  height: 135px;\\n  position: absolute;\\n  right: -24px;\\n  top: -24px;\\n  width: 135px;\\n\"])));var StyledCardActions=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin: 16px 0;\\n  width: 100%;\\n  box-sizing: border-box;\\n\"])));var BalanceAndCompound=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  flex-direction: row;\\n\"])));var StyledActionSpacer=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  height: \",\"px;\\n  width: \",\"px;\\n\"])),function(props){return props.theme.spacing[4];},function(props){return props.theme.spacing[4];});var StyledDetails=styled.div(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  display: flex;\\n  font-size: 14px;\\n\"])));export default PoolCard;","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/Pools2/components/PoolCard.tsx"],"names":["BigNumber","React","useCallback","useState","styled","useModal","Flex","useWallet","useERC20","useSousApproveBurn","useI18n","useSousStakeBurn","useSousUnstakeBurn","useBlock","getBalanceNumber","useSousHarvestBurn","QuoteToken","PoolCategory","FaHistory","ExpandableSectionButton","Container","DepositModal","Card","DCard","div","CCARD","Wrapper","StyledBtn","button","StyledClaim","ClaimBtn","ClaimBtn2","ExpandingWrapper","props","expanded","Quote","p","Rewards","Quote2","Quote3","QuoteBox","DashboardPage2","theme","mediaQueries","sm","lg","Divider","PoolCard","pool2","sousId","image","tokenName","stakingTokenName","stakingTokenAddress","projectLink","harvest","apy","tokenDecimals","poolCategory","totalStaked","startBlock","endBlock","isFinished","isDepositFinished","userData","stakingLimit","tokenPoolAddress","quoteTokenPoolAddress","notFinished","lockBlock","isBnbPool","BINANCE","TranslateString","stakingTokenContract","account","block","onApprove","onStake","onUnstake","onReward","requestedApproval","setRequestedApproval","pendingTx","setPendingTx","allowance","stakingTokenBalance","stakedBalance","earnings","pendingReward","daysRemaining","showExpandableSection","setShowExpandableSection","blocksDepositFinished","Math","max","blocksRemaining","ceil","toLocaleString","maximumFractionDigits","isOldSyrup","SYRUP","accountHasStakedBalance","toNumber","needsApproval","isCardActive","convertedLimit","multipliedBy","pow","isGreaterThan","onPresentDeposit","handleApprove","txHash","console","error","APR","NetROI","times","dailyROI","FiveDayROI","TVL","tvl","NetProfitNumber","minus","Profit","ClaimableRVRS","ForfeitedA","flex","justifyContent","maxWidth","marginLeft","PoolFinishedSash","StyledCardActions","BalanceAndCompound","StyledActionSpacer","spacing","StyledDetails"],"mappings":"2gCAAA,MAAOA,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,KAA6C,OAA7C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAA6BC,QAA7B,CAAuDC,IAAvD,KAAoF,yBAApF,CACA,OAASC,SAAT,KAA0B,+BAA1B,CAEA,OAASC,QAAT,KAAyB,mBAAzB,CACA,OAAyBC,kBAAzB,KAAmD,kBAAnD,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,OAAuBC,gBAAvB,KAA+C,gBAA/C,CACA,OAAyBC,kBAAzB,KAAmD,kBAAnD,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,OAASC,gBAAT,KAAiC,qBAAjC,CACA,OAASC,kBAAT,KAAmC,kBAAnC,CAEA,OAASC,UAAT,CAAqBC,YAArB,KAAyC,wBAAzC,CAEA,OAAuBC,SAAvB,KAAwC,gBAAxC,CACA,MAAOC,CAAAA,uBAAP,KAAoC,oCAApC,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAGA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,C,6IAcA,GAAMC,CAAAA,KAAK,CAAGnB,MAAM,CAACoB,GAAV,6VAAX,CAaA,GAAMC,CAAAA,KAAK,CAAGrB,MAAM,CAACoB,GAAV,kOAAX,CAUA,GAAME,CAAAA,OAAO,CAAGtB,MAAM,CAACE,IAAD,CAAT,+GAAb,CAMA,GAAMqB,CAAAA,SAAS,CAAGvB,MAAM,CAACwB,MAAV,igBAAf,CAqBA,GAAMC,CAAAA,WAAW,CAAGzB,MAAM,CAACwB,MAAV,8dAAjB,CAoBA,GAAME,CAAAA,QAAQ,CAAG1B,MAAM,CAACwB,MAAV,sgBAAd,CAoBE,GAAMG,CAAAA,SAAS,CAAG3B,MAAM,CAACwB,MAAV,ugBAAf,CAqBA,GAAMI,CAAAA,gBAAgB,CAAG5B,MAAM,CAACoB,GAAV,0GACZ,SAACS,KAAD,QAAYA,CAAAA,KAAK,CAACC,QAAN,CAAiB,MAAjB,CAA0B,KAAtC,EADY,CAAtB,CAKF,GAAMC,CAAAA,KAAK,CAAG/B,MAAM,CAACgC,CAAV,+KAAX,CAOA,GAAMC,CAAAA,OAAO,CAAGjC,MAAM,CAACgC,CAAV,iLAAb,CAOA,GAAME,CAAAA,MAAM,CAAGlC,MAAM,CAACgC,CAAV,6IAAZ,CAMA,GAAMG,CAAAA,MAAM,CAAGnC,MAAM,CAACgC,CAAV,wMAAZ,CAQA,GAAMI,CAAAA,QAAQ,CAAGpC,MAAM,CAACgC,CAAV,8NAAd,CASA,GAAMK,CAAAA,cAAc,CAAGrC,MAAM,CAACgB,SAAD,CAAT,kUAOhB,kBAAGsB,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,YAAN,CAAmBC,EAAlC,EAPgB,CAYhB,mBAAGF,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,YAAN,CAAmBE,EAAlC,EAZgB,CAApB,CAmBA,GAAMC,CAAAA,OAAO,CAAG1C,MAAM,CAACoB,GAAV,+NAAb,CAWA,GAAMuB,CAAAA,QAAgC,CAAG,QAAnCA,CAAAA,QAAmC,OAAe,IAAZC,CAAAA,KAAY,OAAZA,KAAY,CACtD,GACEC,CAAAA,MADF,CAsBID,KAtBJ,CACEC,MADF,CAEEC,KAFF,CAsBIF,KAtBJ,CAEEE,KAFF,CAGEC,SAHF,CAsBIH,KAtBJ,CAGEG,SAHF,CAIEC,gBAJF,CAsBIJ,KAtBJ,CAIEI,gBAJF,CAKEC,mBALF,CAsBIL,KAtBJ,CAKEK,mBALF,CAMEC,WANF,CAsBIN,KAtBJ,CAMEM,WANF,CAOEC,OAPF,CAsBIP,KAtBJ,CAOEO,OAPF,CAQEC,GARF,CAsBIR,KAtBJ,CAQEQ,GARF,CASEC,aATF,CAsBIT,KAtBJ,CASES,aATF,CAUEC,YAVF,CAsBIV,KAtBJ,CAUEU,YAVF,CAWEC,WAXF,CAsBIX,KAtBJ,CAWEW,WAXF,CAYEC,UAZF,CAsBIZ,KAtBJ,CAYEY,UAZF,CAaEC,QAbF,CAsBIb,KAtBJ,CAaEa,QAbF,CAcEC,UAdF,CAsBId,KAtBJ,CAcEc,UAdF,CAeEC,iBAfF,CAsBIf,KAtBJ,CAeEe,iBAfF,CAgBEC,QAhBF,CAsBIhB,KAtBJ,CAgBEgB,QAhBF,CAiBEC,YAjBF,CAsBIjB,KAtBJ,CAiBEiB,YAjBF,CAkBEC,gBAlBF,CAsBIlB,KAtBJ,CAkBEkB,gBAlBF,CAmBEC,qBAnBF,CAsBInB,KAtBJ,CAmBEmB,qBAnBF,CAoBEC,WApBF,CAsBIpB,KAtBJ,CAoBEoB,WApBF,CAqBEC,SArBF,CAsBIrB,KAtBJ,CAqBEqB,SArBF,CAuBA,GAAMC,CAAAA,SAAS,CAAGZ,YAAY,GAAKzC,YAAY,CAACsD,OAAhD,CACA,GAAMC,CAAAA,eAAe,CAAG9D,OAAO,EAA/B,CACA,GAAM+D,CAAAA,oBAAoB,CAAGjE,QAAQ,CAAC6C,mBAAD,CAArC,CACA,eAAoB9C,SAAS,EAA7B,CAAQmE,OAAR,YAAQA,OAAR,CACA,GAAMC,CAAAA,KAAK,CAAG9D,QAAQ,EAAtB,CACA,wBAAsBJ,kBAAkB,CAACgE,oBAAD,CAAuBxB,MAAvB,CAAxC,CAAQ2B,SAAR,qBAAQA,SAAR,CACA,sBAAoBjE,gBAAgB,CAACsC,MAAD,CAASqB,SAAT,CAApC,CAAQO,OAAR,mBAAQA,OAAR,CACA,wBAAsBjE,kBAAkB,CAACqC,MAAD,CAAxC,CAAQ6B,SAAR,qBAAQA,SAAR,CACA,wBAAqB/D,kBAAkB,CAACkC,MAAD,CAASqB,SAAT,CAAvC,CAAQS,QAAR,qBAAQA,QAAR,CACA,cAAkD5E,QAAQ,CAAC,KAAD,CAA1D,wCAAO6E,iBAAP,eAA0BC,oBAA1B,eACA,eAAkC9E,QAAQ,CAAC,KAAD,CAA1C,yCAAO+E,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,SAAS,CAAG,GAAIpF,CAAAA,SAAJ,CAAc,CAAAgE,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEoB,SAAV,GAAuB,CAArC,CAAlB,CACA,GAAMC,CAAAA,mBAAmB,CAAG,GAAIrF,CAAAA,SAAJ,CAAc,CAAAgE,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEqB,mBAAV,GAAiC,CAA/C,CAA5B,CACA,GAAMC,CAAAA,aAAa,CAAG,GAAItF,CAAAA,SAAJ,CAAc,CAAAgE,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEsB,aAAV,GAA2B,CAAzC,CAAtB,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIvF,CAAAA,SAAJ,CAAc,CAAAgE,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEwB,aAAV,GAA2B,CAAzC,CAAjB,CACA,GAAMC,CAAAA,aAAa,CAAGd,KAAK,CAAGf,UAAR,CAAqB,CAACC,QAAQ,CAAGc,KAAZ,EAAmB,CAAnB,CAAqB,WAArB,CAAiC,SAAtD,CAAkE,CAACd,QAAQ,CAAGD,UAAZ,EAAwB,CAAxB,CAA0B,WAA1B,CAAsC,SAA9H,CACA,eAA0DzD,QAAQ,CAAC,KAAD,CAAlE,yCAAOuF,qBAAP,eAA8BC,wBAA9B,eACA,GAAMC,CAAAA,qBAAqB,CAAGC,IAAI,CAACC,GAAL,CAASzB,SAAS,CAAGM,KAArB,CAA4B,CAA5B,CAA9B,CACA,GAAMoB,CAAAA,eAAe,CAAGF,IAAI,CAACG,IAAL,CAAUnC,QAAQ,CAAGc,KAArB,EAA4BsB,cAA5B,CAA2C,OAA3C,CAAmD,CAAEC,qBAAqB,CAAE,CAAzB,CAAnD,CAAxB,CACA,GAAMC,CAAAA,UAAU,CAAG/C,gBAAgB,GAAKpC,UAAU,CAACoF,KAAnD,CACA,GAAMC,CAAAA,uBAAuB,CAAG,CAAAf,aAAa,OAAb,EAAAA,aAAa,SAAb,QAAAA,aAAa,CAAEgB,QAAf,IAA4B,CAA5D,CACA,GAAMC,CAAAA,aAAa,CAAG,CAACF,uBAAD,EAA4B,CAACjB,SAAS,CAACkB,QAAV,EAA7B,EAAqD,CAAChC,SAA5E,CACA,GAAMkC,CAAAA,YAAY,CAAG1C,UAAU,EAAIuC,uBAAnC,CAEA,GAAMI,CAAAA,cAAc,CAAG,GAAIzG,CAAAA,SAAJ,CAAciE,YAAd,EAA4ByC,YAA5B,CAAyC,GAAI1G,CAAAA,SAAJ,CAAc,EAAd,EAAkB2G,GAAlB,CAAsBlD,aAAtB,CAAzC,CAAvB,CACA,cAA2BpD,QAAQ,cACjC,KAAC,YAAD,EACE,GAAG,CAAE4D,YAAY,EAAIoB,mBAAmB,CAACuB,aAApB,CAAkCH,cAAlC,CAAhB,CAAoEA,cAApE,CAAqFpB,mBAD5F,CAEE,SAAS,CAAER,OAFb,CAGE,SAAS,CAAEZ,YAAY,WAAMb,gBAAN,cAA2Ba,YAA3B,UAAiDb,gBAH1E,EADiC,CAAnC,wCAAOyD,gBAAP,eAQA,GAAMC,CAAAA,aAAa,CAAG5G,WAAW,sEAAC,8JAE9B+E,oBAAoB,CAAC,IAAD,CAApB,CAF8B,sBAGTL,CAAAA,SAAS,EAHA,QAGxBmC,MAHwB,eAI9B;AACA,GAAI,CAACA,MAAL,CAAa,CACX9B,oBAAoB,CAAC,KAAD,CAApB,CACD,CAP6B,+EAS9B+B,OAAO,CAACC,KAAR,cAT8B,oEAAD,GAW9B,CAACrC,SAAD,CAAYK,oBAAZ,CAX8B,CAAjC,CAaA,GAAMiC,CAAAA,GAAG,CAAG1D,GAAG,EAAIA,GAAG,CAAC8C,QAAJ,GAAeL,cAAf,CAA8B,OAA9B,CAAsC,CAAEC,qBAAqB,CAAE,CAAzB,CAAtC,CAAnB,CACA,GAAMiB,CAAAA,MAAM,CAAG3D,GAAG,EAAIA,GAAG,CAAChC,GAAJ,CAAQ,GAAR,EAAa4F,KAAb,CAAmB3B,aAAnB,EAAkCa,QAAlC,GAA6CL,cAA7C,CAA4D,OAA5D,CAAoE,CAAEC,qBAAqB,CAAE,CAAzB,CAApE,CAAtB,CACA,GAAMmB,CAAAA,QAAQ,CAAG7D,GAAG,EAAIA,GAAG,CAAChC,GAAJ,CAAQ,GAAR,EAAa8E,QAAb,GAAwBL,cAAxB,CAAuC,OAAvC,CAA+C,CAAEC,qBAAqB,CAAE,CAAzB,CAA/C,CAAxB,CACA,GAAMoB,CAAAA,UAAU,CAAG9D,GAAG,EAAIA,GAAG,CAAChC,GAAJ,CAAQ,GAAR,EAAa4F,KAAb,CAAmB,CAAnB,EAAsBd,QAAtB,GAAiCL,cAAjC,CAAgD,OAAhD,CAAwD,CAAEC,qBAAqB,CAAE,CAAzB,CAAxD,CAA1B,CACA,GAAMqB,CAAAA,GAAG,CAAGvE,KAAK,CAACwE,GAAN,EAAaxE,KAAK,CAACwE,GAAN,CAAUlB,QAAV,GAAqBL,cAArB,CAAoC,OAApC,CAA4C,CAAEC,qBAAqB,CAAE,CAAzB,CAA5C,CAAzB,CACA,GAAMuB,CAAAA,eAAe,CAAGjE,GAAG,EAAIA,GAAG,CAAChC,GAAJ,CAAQ,GAAR,EAAa4F,KAAb,CAAmB3B,aAAnB,EAAkCiC,KAAlC,CAAwC,GAAxC,EAA6CpB,QAA7C,EAA/B,CACA,GAAMqB,CAAAA,MAAM,CAAGF,eAAe,EAAIA,eAAe,CAACxB,cAAhB,CAA+B,OAA/B,CAAuC,CAAEC,qBAAqB,CAAE,CAAzB,CAAvC,CAAlC,CACA;AAEA,GAAM0B,CAAAA,aAAa,CAAG9G,gBAAgB,CAACyE,QAAD,CAAW9B,aAAX,CAAhB,CAA0CwC,cAA1C,CAAyD,OAAzD,CAAiE,CAAEC,qBAAqB,CAAE,CAAzB,CAAjE,CAAtB,CACA,GAAM2B,CAAAA,UAAU,CAAG/G,gBAAgB,CAACwE,aAAD,CAAhB,CAAgCW,cAAhC,CAA+C,OAA/C,CAAuD,CAAEC,qBAAqB,CAAE,CAAzB,CAAvD,CAAnB,CAEA,mBAEE,KAAC,cAAD,wBACA,MAAC,IAAD,EAAM,QAAQ,CAAEM,YAAhB,CAA8B,UAAU,CAAE1C,UAAU,EAAIb,MAAM,GAAK,CAAnE,WACGA,MAAM,GAAK,CAAX,eAAgB,KAAC,gBAAD,IADnB,cAGE,KAAC,OAAD,EAAS,cAAc,CAAC,eAAxB,CAAwC,UAAU,CAAC,QAAnD,CAA4D,EAAE,CAAC,KAA/D,CAAqE,OAAO,CAAC,MAA7E,uBAEA,KAAC,IAAD,EAAM,aAAa,CAAC,QAApB,CAA6B,UAAU,CAAC,UAAxC,uBACI,MAAC,KAAD,YAAQE,SAAR,mBADJ,EAFA,EAHF,cAYE,KAAC,KAAD,wBAEA,MAAC,OAAD,EAAS,cAAc,CAAC,eAAxB,CAAwC,UAAU,CAAC,QAAnD,CAA4D,EAAE,CAAC,KAA/D,WAEKiB,WAAW,eACZ,MAAC,IAAD,EAAM,aAAa,CAAC,QAApB,CAA6B,UAAU,CAAC,OAAxC,wBACE,KAAC,KAAD,8BADF,CAEGqD,eAAe,EAAIA,eAAe,CAAG,CAArC,cAAyC,MAAC,MAAD,YAASE,MAAT,OAAzC,cAAuE,KAAC,MAAD,uBAF1E,GAHJ,CAQKvD,WAAW,eACZ,MAAC,IAAD,EAAM,aAAa,CAAC,QAApB,CAA6B,UAAU,CAAC,OAAxC,wBACE,KAAC,KAAD,sBADF,CAEGqB,aAAa,CAAG,CAAhB,cACG,MAAC,MAAD,YAASA,aAAa,CAACQ,cAAd,CAA6B,OAA7B,CAAqC,CAAEC,qBAAqB,CAAE,CAAzB,CAArC,CAAT,WADH,cAEG,KAAC,MAAD,oBAJN,GATJ,CAgBKpC,UAAU,eACX,KAAC,IAAD,EAAM,aAAa,CAAC,QAApB,CAA6B,UAAU,CAAC,OAAxC,uBACE,MAAC,QAAD,yBAAU,KAAC,SAAD,IAAV,iBADF,EAjBJ,cAqBI,MAAC,IAAD,EAAM,aAAa,CAAC,QAApB,CAA6B,UAAU,CAAC,OAAxC,wBACE,KAAC,KAAD,kBADF,cAEE,MAAC,MAAD,gBAAUyD,GAAV,GAFF,GArBJ,cA0BI,KAAC,IAAD,EAAM,cAAc,CAAC,OAArB,uBACE,KAAC,uBAAD,EAAyB,OAAO,CAAE,yBAAM5B,CAAAA,wBAAwB,CAAC,CAACD,qBAAF,CAA9B,EAAlC,EADF,EA1BJ,GAFA,EAZF,cA+CI,KAAC,gBAAD,EAAkB,QAAQ,CAAEA,qBAA5B,uBACE,MAAC,KAAD,yBAEA,MAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,SAAS,CAAC,MAA/C,wBACI,KAAC,KAAD,iCADJ,cAEI,MAAC,KAAD,gBAAS6B,GAAT,GAFJ,GAFA,CAOGnD,WAAW,eACZ,MAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,SAAS,CAAC,MAA/C,wBACE,KAAC,KAAD,4BADF,cAEE,MAAC,KAAD,YAAQiD,QAAR,OAFF,GARF,CAcGjD,WAAW,eACZ,MAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,SAAS,CAAC,MAA/C,wBACE,KAAC,KAAD,8BADF,CAEGqD,eAAe,EAAIA,eAAe,CAAG,CAArC,cAAyC,MAAC,MAAD,YAASE,MAAT,OAAzC,cAAuE,KAAC,MAAD,uBAF1E,GAfF,CAoBGvD,WAAW,eACZ,KAAC,OAAD,IArBF,cAuBE,MAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,SAAS,CAAC,MAA/C,wBACE,KAAC,KAAD,qCADF,cAEE,KAAC,KAAD,WAAQyD,UAAR,EAFF,GAvBF,cA6BE,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,cAAc,CAAC,eAAtC,wBACE,KAAC,KAAD,8BADF,cAEE,KAAC,KAAD,WAAQD,aAAR,EAFF,GA7BF,CAkCGxD,WAAW,eACZ,KAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,SAAS,CAAC,MAA/C,uBACE,MAAC,MAAD,gVAE2CqB,aAAa,CAACQ,cAAd,CAA6B,OAA7B,CAAqC,CAAEC,qBAAqB,CAAE,CAAzB,CAArC,CAF3C,0CADF,EAnCF,cA2CE,KAAC,iBAAD,WAEGxB,OAAO,GAAK6B,aAAa,EAAI,CAACJ,UAAlB,cAEX,YAAK,KAAK,CAAE,CAAE2B,IAAI,CAAE,CAAR,CAAZ,uBACE,KAAC,SAAD,EACA,KAAK,CAAE,CAACC,cAAc,CAAC,QAAhB,CAA0BC,QAAQ,CAAC,OAAnC,CADP,CAEA,QAAQ,CAAElE,UAAU,EAAIC,iBAFxB,CAGA,OAAO,CAAE+C,aAHT,0BADF,EAFW,cAYL,wCAEN,KAAC,kBAAD,IAFM,CAKH,CAACX,UAAD,eACC,KAAC,SAAD,EACE,KAAK,CAAE,CAAC4B,cAAc,CAAC,QAAhB,CAA0BC,QAAQ,CAAC,OAAnC,CADT,CAEE,QAAQ,CAAElE,UAAU,EAAIC,iBAAd,EAAmC0D,eAAe,EAAIA,eAAe,CAAG,CAFpF,CAGE,OAAO,CAAEZ,gBAHX,UAIGY,eAAe,CAAG,CAAlB,CAAsB,aAAtB,CAAsC,UAJzC,EANE,CAaH/C,OAAO,EAAInB,OAAX,EAAsB,CAAC4C,UAAvB,eACC,KAAC,QAAD,EACE,KAAK,CAAE,CAAE8B,UAAU,CAAC,MAAb,CAAqBF,cAAc,CAAC,QAApC,CADT,CAEE,QAAQ,CAAE,CAACxC,QAAQ,CAACe,QAAT,EAAD,EAAwBtB,iBAAxB,EAA6CE,SAFzD,CAGE,OAAO,sEAAE,wIACPC,YAAY,CAAC,IAAD,CAAZ,CADO,uBAEDJ,CAAAA,QAAQ,EAFP,QAGPI,YAAY,CAAC,KAAD,CAAZ,CAHO,wDAAF,EAHT,mBAdE,GAZA,CAFV,EA3CF,GADF,EA/CJ,GADA,EAFF,CA8KD,CAhQD,CAkQA,GAAM+C,CAAAA,gBAAgB,CAAG9H,MAAM,CAACoB,GAAV,kSAAtB,CAWA,GAAM2G,CAAAA,iBAAiB,CAAG/H,MAAM,CAACoB,GAAV,mLAAvB,CAQA,GAAM4G,CAAAA,kBAAkB,CAAGhI,MAAM,CAACoB,GAAV,4KAAxB,CAOA,GAAM6G,CAAAA,kBAAkB,CAAGjI,MAAM,CAACoB,GAAV,0GACZ,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACS,KAAN,CAAY4F,OAAZ,CAAoB,CAApB,CAAX,EADY,CAEb,SAACrG,KAAD,QAAWA,CAAAA,KAAK,CAACS,KAAN,CAAY4F,OAAZ,CAAoB,CAApB,CAAX,EAFa,CAAxB,CAKA,GAAMC,CAAAA,aAAa,CAAGnI,MAAM,CAACoB,GAAV,6GAAnB,CAKA,cAAeuB,CAAAA,QAAf","sourcesContent":["import BigNumber from 'bignumber.js'\nimport React, { useCallback, useState } from 'react'\nimport styled from 'styled-components'\nimport { Button, IconButton, useModal, AddIcon, Image, Flex, MinusIcon, Link } from '@pancakeswap-libs/uikit'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport UnlockButton from 'components/UnlockButton'\nimport { useERC20 } from 'hooks/useContract'\nimport { useSousApprove, useSousApproveBurn } from 'hooks/useApprove'\nimport useI18n from 'hooks/useI18n'\nimport { useSousStake, useSousStakeBurn } from 'hooks/useStake'\nimport { useSousUnstake, useSousUnstakeBurn } from 'hooks/useUnstake'\nimport useBlock from 'hooks/useBlock'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { useSousHarvestBurn } from 'hooks/useHarvest'\nimport Balance from 'components/Balance'\nimport { QuoteToken, PoolCategory } from 'config/constants/types'\nimport { Pool2 } from 'state/types'\nimport { FaAngleRight, FaHistory } from 'react-icons/fa'\nimport ExpandableSectionButton from 'components/ExpandableSectionButton'\nimport Container from 'components/layout/Container'\nimport DepositModal from './DepositModal'\nimport WithdrawModal from './WithdrawModal'\nimport CompoundModal from './CompoundModal'\nimport Card from './Card'\nimport HarvestButton from './HarvestButton'\nimport CardFooter from './CardFooter'\n\n\n\ninterface PoolWithApy extends Pool2 {\n  apy: BigNumber\n}\n\ninterface HarvestProps {\n  pool2: PoolWithApy\n}\n\nconst DCard = styled.div`\nbackground-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n  border-radius: 15px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 25px;\n  position: center;\n  text-align: center;\n\n  border:0px solid #fff;\n  box-shadow: 0px 0px 0px #ccc;\n`\n\nconst CCARD = styled.div`\nbackground: #1E2129;\nborder-radius: 10px;\nflex-direction: column;\njustify-content: space-around;\npadding: 25px;\nposition: center;\ntext-align: center;\n`\n\nconst Wrapper = styled(Flex)`\n  svg {\n    margin-right: 0.25rem;\n  }\n`\n\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: #2E3543 !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #2E3543 !important;\n  border-radius: 8px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  margin-top: 18px;\n  min-height: 18px;\n  max-height: 30px;\n  max-width: 128px;\n  padding: 20px;\n  box-shadow: 0px 0px 5px #ccc;\n\n  `\nconst StyledClaim = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: #2E3543 !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #2E3543 !important;\n  border-radius: 8px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  margin-top: 18px;\n  min-height: 18px;\n  max-height: 30px;\n  max-width: 128px;\n  padding: 20px;\n  `\n\nconst ClaimBtn = styled.button`\n    -webkit-box-align: center;\n    align-items: center;\n    margin-top: 18px;\n    background-color: rgba(0, 0, 0,0) !important;\n    border: 1px;\n    border-style: solid !important;\n    border-color: #ffff !important;\n    border-radius: 10px;\n    color: #ffff;\n    font-size: 15px;\n    font-weight: 400;\n    width: 100%;\n    display: inline-flex;\n    min-height: 18px;\n    max-height: 30px;\n    max-width: 80px;\n    padding: 20px;\n  `\n\n  const ClaimBtn2 = styled.button`\n    -webkit-box-align: center;\n    align-items: center;\n    margin-top: 18px;\n    background-color: rgba(0, 0, 0,0) !important;\n    border: 1px;\n    border-style: solid !important;\n    border-color: #ffff !important;\n    border-radius: 10px;\n    color: #ffff;\n    font-size: 15px;\n    font-weight: 400;\n    width: 100%;\n    display: inline-flex;\n    min-height: 18px;\n    max-height: 30px;\n    max-width: 180px;\n    padding: 20px;\n  `\n\n\n  const ExpandingWrapper = styled.div<{ expanded: boolean }>`\n  height: ${(props) => (props.expanded ? '100%' : '0px')};\n  overflow: hidden;\n`\n\nconst Quote = styled.p`\n    font-size: 15px;\n    font-weight: 500;\n    margin-bottom: 0px;\n    text-shadow: 0px 0px 5px #ccc;\n`\n\nconst Rewards = styled.p`\n    font-size: 15px;\n    font-weight: 600;\n    margin-bottom: 0px;\n    text-shadow: 0px 0px 0px #ccc;\n`\n\nconst Quote2 = styled.p`\n    font-size: 15px;\n    font-weight: 300;\n    margin-bottom: 0px;\n`\n\nconst Quote3 = styled.p`\n    font-size: 15px;\n    font-weight: 700;\n    margin-bottom: 0px;\n    text-shadow: 1px 1px 10px #ccc;\n    margin-top: 7px;\n`\n\nconst QuoteBox = styled.p`\n  font-size: 15px;\n  font-weight: 700;\n  margin-bottom: 0px;\n  text-shadow: 1px 1px 10px #ccc;\n  box-shadow: 0px 0px 0px #fff;\n  box-color: #fff\n`\n\nconst DashboardPage2 = styled(Container)`\n  min-height: calc(1vh - 64px);\n  padding-top: 16px;\n  padding-bottom: 6px;\n  padding: 5px;\n  max-width: 770px;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    padding-top: 24px;\n    padding-bottom: 24px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    padding-top: 21px;\n    padding-bottom: 32px;\n  }\n`\n\n\nconst Divider = styled.div`\n  background-color: #7B7B7B;\n  height: 1px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 25px;\n  margin-bottom: 15px;\n  width: 100%;\n`\n\n\nconst PoolCard: React.FC<HarvestProps> = ({ pool2 }) => {\n  const {\n    sousId,\n    image,\n    tokenName,\n    stakingTokenName,\n    stakingTokenAddress,\n    projectLink,\n    harvest,\n    apy,\n    tokenDecimals,\n    poolCategory,\n    totalStaked,\n    startBlock,\n    endBlock,\n    isFinished,\n    isDepositFinished,\n    userData,\n    stakingLimit,\n    tokenPoolAddress,\n    quoteTokenPoolAddress,\n    notFinished,\n    lockBlock,\n  } = pool2\n  const isBnbPool = poolCategory === PoolCategory.BINANCE\n  const TranslateString = useI18n()\n  const stakingTokenContract = useERC20(stakingTokenAddress)\n  const { account } = useWallet()\n  const block = useBlock()\n  const { onApprove } = useSousApproveBurn(stakingTokenContract, sousId)\n  const { onStake } = useSousStakeBurn(sousId, isBnbPool)\n  const { onUnstake } = useSousUnstakeBurn(sousId)\n  const { onReward } = useSousHarvestBurn(sousId, isBnbPool)\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const [pendingTx, setPendingTx] = useState(false)\n  const allowance = new BigNumber(userData?.allowance || 0)\n  const stakingTokenBalance = new BigNumber(userData?.stakingTokenBalance || 0)\n  const stakedBalance = new BigNumber(userData?.stakedBalance || 0)\n  const earnings = new BigNumber(userData?.pendingReward || 0)\n  const daysRemaining = block > startBlock ? (endBlock - block)*2*0.000277778*0.0416667 : (endBlock - startBlock)*2*0.000277778*0.0416667\n  const [showExpandableSection, setShowExpandableSection] = useState(false)\n  const blocksDepositFinished = Math.max(lockBlock - block, 0)\n  const blocksRemaining = Math.ceil(endBlock - block).toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const isOldSyrup = stakingTokenName === QuoteToken.SYRUP\n  const accountHasStakedBalance = stakedBalance?.toNumber() > 0\n  const needsApproval = !accountHasStakedBalance && !allowance.toNumber() && !isBnbPool\n  const isCardActive = isFinished && accountHasStakedBalance\n\n  const convertedLimit = new BigNumber(stakingLimit).multipliedBy(new BigNumber(10).pow(tokenDecimals))\n  const [onPresentDeposit] = useModal(\n    <DepositModal\n      max={stakingLimit && stakingTokenBalance.isGreaterThan(convertedLimit) ? convertedLimit : stakingTokenBalance}\n      onConfirm={onStake}\n      tokenName={stakingLimit ? `${stakingTokenName} (${stakingLimit} max)` : stakingTokenName}\n    />,\n  )\n\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n      const txHash = await onApprove()\n      // user rejected tx or didn't go thru\n      if (!txHash) {\n        setRequestedApproval(false)\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }, [onApprove, setRequestedApproval])\n\n  const APR = apy && apy.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 })\n  const NetROI = apy && apy.div(365).times(daysRemaining).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const dailyROI = apy && apy.div(365).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const FiveDayROI = apy && apy.div(365).times(5).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const TVL = pool2.tvl && pool2.tvl.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 })\n  const NetProfitNumber = apy && apy.div(365).times(daysRemaining).minus(100).toNumber()\n  const Profit = NetProfitNumber && NetProfitNumber.toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  // console.log(pool2.sousId, pool2.tvl && pool2.tvl.toNumber())\n\n  const ClaimableRVRS = getBalanceNumber(earnings, tokenDecimals).toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const ForfeitedA = getBalanceNumber(stakedBalance).toLocaleString('en-us',{ maximumFractionDigits: 1 })\n\n  return (\n\n    <DashboardPage2>\n    <Card isActive={isCardActive} isFinished={isFinished && sousId !== 0}>\n      {sousId === 0 && <PoolFinishedSash />}\n\n      <Wrapper justifyContent=\"space-between\" alignItems=\"center\" mb=\"0px\" padding='15px' >\n\n      <Flex flexDirection=\"column\" alignItems=\"flex-end\">\n          <Quote>{tokenName} Bonding Pool</Quote>\n\n        </Flex>\n\n      </Wrapper>\n\n      <DCard>\n\n      <Wrapper justifyContent=\"space-between\" alignItems=\"center\" mb=\"0px\">\n\n          {notFinished && (\n          <Flex flexDirection=\"column\" alignItems='start' >\n            <Quote>Current Net ROI</Quote>\n            {NetProfitNumber && NetProfitNumber > 0 ? <Quote3>{Profit}%</Quote3> :  <Quote3>Sold Out</Quote3>}\n          </Flex>)}\n\n          {notFinished && (\n          <Flex flexDirection=\"column\" alignItems='start' >\n            <Quote>Vesting</Quote>\n            {daysRemaining > 0 ?\n                <Quote3>{daysRemaining.toLocaleString('en-us',{ maximumFractionDigits: 1 })} Days</Quote3> :\n                <Quote3>Ended</Quote3>}\n          </Flex>)}\n\n          {isFinished && (\n          <Flex flexDirection=\"column\" alignItems='start' >\n            <QuoteBox><FaHistory/>Pool Ended </QuoteBox>\n          </Flex>)}\n\n          <Flex flexDirection=\"column\" alignItems='start' >\n            <Quote>TVB</Quote>\n            <Quote3>${TVL}</Quote3>\n          </Flex>\n\n          <Flex justifyContent='right'>\n            <ExpandableSectionButton onClick={() => setShowExpandableSection(!showExpandableSection)}/>\n          </Flex>\n        </Wrapper>\n      </DCard>\n\n\n        <ExpandingWrapper expanded={showExpandableSection}>\n          <CCARD>\n\n          <Flex justifyContent='space-between' marginTop='20px'>\n              <Quote>Total Value Bonded</Quote>\n              <Quote>${TVL}</Quote>\n            </Flex>\n\n            {notFinished && (\n            <Flex justifyContent='space-between' marginTop='10px'>\n              <Quote>Daily Returns</Quote>\n              <Quote>{dailyROI}%</Quote>\n            </Flex>)}\n\n\n            {notFinished && (\n            <Flex justifyContent='space-between' marginTop='10px'>\n              <Quote>Current Net ROI</Quote>\n              {NetProfitNumber && NetProfitNumber > 0 ? <Quote3>{Profit}%</Quote3> :  <Quote3>Sold Out</Quote3>}\n            </Flex>)}\n\n            {notFinished && (\n            <Divider/>)}\n\n            <Flex justifyContent='space-between' marginTop='25px'>\n              <Quote> Your Forfeited Assets</Quote>\n              <Quote>{ForfeitedA}</Quote>\n            </Flex>\n\n            \n            <Flex marginTop='10px' justifyContent='space-between'>\n              <Quote> Claimable RVRS</Quote>\n              <Quote>{ClaimableRVRS}</Quote>\n            </Flex>\n\n            {notFinished && (\n            <Flex justifyContent='space-between' marginTop='20px'>\n              <Quote2>Once forfeited to the Reverseum, assets cannot be recovered.\n                Net ROI is is a global indicator that shows the ROI if you would enter at THIS POINT IN TIME, thus over the course of the pool, it will go negative - this does not mean that you PERSONALLY will  necessarily make a loss.\n                Rewards in RVRS are linearly vested for {daysRemaining.toLocaleString('en-us',{ maximumFractionDigits: 1 })} more days (Based on 2s block times)</Quote2>\n            </Flex>)} \n\n\n\n            <StyledCardActions >\n                \n              {account && (needsApproval && !isOldSyrup ? (\n\n                <div style={{ flex: 1 }}>\n                  <StyledBtn \n                  style={{justifyContent:\"center\", maxWidth:'160px' }}\n                  disabled={isFinished || isDepositFinished} \n                  onClick={handleApprove}\n                  >\n                    Enable Pools\n                  </StyledBtn>\n                </div>\n\n                ) : ( <>\n\n                <StyledActionSpacer/>\n                \n\n                  {!isOldSyrup && (\n                    <StyledBtn \n                      style={{justifyContent:\"center\", maxWidth:'160px' }}\n                      disabled={isFinished || isDepositFinished || NetProfitNumber && NetProfitNumber < 0}\n                      onClick={onPresentDeposit}>\n                      {NetProfitNumber > 0 ? 'Bond Assets' : 'Sold Out'}\n                    </StyledBtn>)}\n                  \n                  {account && harvest && !isOldSyrup && (\n                    <ClaimBtn\n                      style={{ marginLeft:'20px', justifyContent:\"center\" }}\n                      disabled={!earnings.toNumber() || requestedApproval || pendingTx}\n                      onClick={async () => {\n                        setPendingTx(true)\n                        await onReward()\n                        setPendingTx(false)}}>\n                      Claim\n                    </ClaimBtn>)}\n\n                    </>))}\n\n                    \n\n              </StyledCardActions>\n            </CCARD>\n        </ExpandingWrapper>\n\n\n        {/* {!isOldSyrup ? (\n          <BalanceAndCompound>\n            <Balance value={getBalanceNumber(earnings, tokenDecimals)} isDisabled={isFinished} />\n            {sousId === 0 && account && harvest && (\n              <HarvestButton\n                disabled={!earnings.toNumber() || pendingTx}\n                text={pendingTx ? TranslateString(999, 'Compounding') : TranslateString(999, 'Compound')}\n                onClick={onPresentCompound}\n              />\n              \n            )}\n          </BalanceAndCompound>\n        ) : (\n          <OldSyrupTitle hasBalance={accountHasStakedBalance} />\n        )}\n        <Label isFinished={isFinished && sousId !== 0} text={TranslateString(330, `${tokenName} earned`)} />\n        */}\n\n        \n        {/* <StyledDetails>\n          <div style={{ flex: 1 }}>{TranslateString(736, 'APY')}:</div>\n          {isFinished || isOldSyrup || !apy || apy?.isNaN() || !apy?.isFinite() ? (\n            '-'\n          ) : (\n            <Balance fontSize=\"14px\" isDisabled={isFinished} value={apy?.toNumber()} decimals={2} unit=\"%\" />\n          )}\n        </StyledDetails> */}\n\n    </Card>  \n    </DashboardPage2>\n\n  )\n\n}\n\nconst PoolFinishedSash = styled.div`\n  background-image: url('/images/pool-finished-sash.svg');\n  background-position: top right;\n  background-repeat: not-repeat;\n  height: 135px;\n  position: absolute;\n  right: -24px;\n  top: -24px;\n  width: 135px;\n`\n\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin: 16px 0;\n  width: 100%;\n  box-sizing: border-box;\n`\n\nconst BalanceAndCompound = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n`\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`\n\nconst StyledDetails = styled.div`\n  display: flex;\n  font-size: 14px;\n`\n\nexport default PoolCard\n\n\n"]},"metadata":{},"sourceType":"module"}