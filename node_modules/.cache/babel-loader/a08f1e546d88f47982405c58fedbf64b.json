{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13;import React,{useCallback,useState}from'react';import styled from'styled-components';import{Flex}from'@pancakeswap-libs/uikit';import BigNumber from'bignumber.js';import{usePriceCakeBusd}from'state/hooks';import{useAllHarvest}from'hooks/useHarvest';import{useWallet}from'@binance-chain/bsc-use-wallet';import useFarmsWithBalance from'hooks/useFarmsWithBalance';import{getBalanceNumber}from'utils/formatBalance';import useI18n from'hooks/useI18n';import farms from'state/farms';import{FaHandHoldingUsd,FaLongArrowAltRight}from'react-icons/fa';import useTokenBalance,{useTotalSupply,useBurnedBalance,useUstTreasuryBalance,useRvrsOneTreasuryBalance,useRvrsUstTreasuryBalance}from'hooks/useTokenBalance';import Container from'components/layout/Container';import{getCakeAddress,getRvrsOneAddress,getRvrsUstAddress,getUstAddress}from'../../utils/addressHelpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Price=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  -webkit-box-align: center;\\n  align-items: center;\\n  background-color: rgba(0, 0, 0,0) !important;\\n  border: 1px;\\n  border-style: solid !important;\\n  border-color: #405fb4 !important;\\n  border-radius: 16px;\\n  color: #405fb4;\\n  font-size: 15px;\\n  font-weight: 800;\\n  width: 100%;\\n  display: inline-flex;\\n  min-height: 21px;\\n  max-height: 37px;\\n  letter-spacing: 0.03em;\\n  padding: 15px;\\n\"])));var DashboardPage2=styled(Container)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  min-height: calc(1vh - 64px);\\n  padding-top: 16px;\\n  padding-bottom: 6px;\\n  padding: 5px;\\n  max-width: 770px;\\n\\n  \",\" {\\n    padding-top: 24px;\\n    padding-bottom: 24px;\\n  }\\n\\n  \",\" {\\n    padding-top: 21px;\\n    padding-bottom: 32px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.sm;},function(_ref2){var theme=_ref2.theme;return theme.mediaQueries.lg;});var StyledBtn=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  -webkit-box-align: center;\\n  align-items: center;\\n  background-color: rgba(0, 0, 0,0) !important;\\n  border: 1px;\\n  border-style: solid !important;\\n  border-color: #ffff !important;\\n  border-radius: 10px;\\n  color: #ffff;\\n  font-size: 15px;\\n  font-weight: 400;\\n  width: 100%;\\n  display: inline-flex;\\n  min-height: 18px;\\n  max-height: 30px;\\n  max-width: 40px;\\n  padding: 12px;\\n  box-shadow: 0px 0px 10px #ccc;\\n\"])));var Test=styled.text(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background-color: rgba(0, 0, 0,0) !important;\\n  background: rgba(0, 0, 0,0) !important;\\n  font-size: 20px;\\n  font-weight: 600;\\n  text-shadow: 0px 0px 10px #ccc;\\n\"])));var Divider=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  background-color: #1E2129;\\n  height: 0px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 7px;\\n  margin-bottom: 7px;\\n  width: 0%;\\n\"])));var ExpandingWrapper=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  height: \",\";\\n  overflow: hidden;\\n\"])),function(props){return props.expanded?'100%':'0px';});var DetailsCard=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  background: rgba(0, 0, 0,0) !important;\\n  border-radius: 0px;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 10px;\\n  position: center;\\n  text-align: center;\\n\"])));var Stat=styled.text(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-size: 15px;\\n  font-weight: 500;\\n  text-shadow: 0px 0px 10px #ccc;\\n\"])));var Stat2=styled.text(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 15px;\\n  font-weight: 700;\\n  text-shadow: 0px 0px 10px #ccc;\\n\"])));var DCard=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  background: #2E3543;\\n  border-radius: 20px;\\n  padding: 30px;\\n  box-shadow: 1px 1px 3px #fff;\\n  background-image: linear-gradient(to right, #3B4557 , #2B3344);\\n  position: center;\\n  text-align: center;\\n\"])));var Sub=styled.p(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  color: #7F8997;\\n  font-size: 13px;\\n  font-weight: 500;\\n  margin-bottom: 0px;\\n  text-shadow: 0px 0px 0px #4E5C6D;\\n\"])));var DashboardCard=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  align-self: baseline;\\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\\n\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 0px;\\n  position: relative;\\n  text-align: center;\\n\\n\\n  border: 0px solid #fff;\\n  box-shadow: 0px 0px 5px #ccc;\\n\"])));var DashCard=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  align-self: baseline;\\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 15px;\\n  position: relative;\\n  text-align: center;\\n\"])));var MoneyWheel=function MoneyWheel(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pendingTx=_useState2[0],setPendingTx=_useState2[1];var _useWallet=useWallet(),account=_useWallet.account;var TranslateString=useI18n();var farmsWithBalance=useFarmsWithBalance();var cakeBalance=getBalanceNumber(useTokenBalance(getCakeAddress()));var eggPrice=usePriceCakeBusd().toNumber();var totalSupply=useTotalSupply();var burnedBalance=useBurnedBalance(getCakeAddress());var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showExpandableSection=_useState4[0],setShowExpandableSection=_useState4[1];var earningsSum=farmsWithBalance.reduce(function(accum,farm){return accum+new BigNumber(farm.balance).div(new BigNumber(10).pow(18)).toNumber();},0);var balancesWithValue=farmsWithBalance.filter(function(balanceType){return balanceType.balance.toNumber()>0;});var _useAllHarvest=useAllHarvest(balancesWithValue.map(function(farmWithBalance){return farmWithBalance.pid;})),onReward=_useAllHarvest.onReward;var cakePriceUsd=usePriceCakeBusd();var misPrice=usePriceCakeBusd();var tokenPrice=cakePriceUsd.toNumber().toFixed(2);var circSupply=totalSupply?totalSupply.minus(burnedBalance):new BigNumber(0);var cakeSupply=getBalanceNumber(circSupply);var circulatingMath=new BigNumber(cakeSupply).minus(5000000);var circulatingRVRS=circulatingMath.toNumber().toFixed(0);var mCap=misPrice.times(circulatingRVRS).toNumber().toFixed(0);var marketCap=misPrice.times(circSupply).isNaN()||!misPrice.times(circSupply).isFinite()?new BigNumber(0):misPrice.times(circSupply);var vikingPerBlock=0;// if (process.env.REACT_APP_DEBUG === \"true\"){ console.log(farms[0], 'testing viking per block') }\nif(farms&&farms[0]&&farms[0].vikingPerBlock){vikingPerBlock=new BigNumber(farms[0].vikingPerBlock).div(new BigNumber(10).pow(18)).toNumber();}// Treasury Balances\nvar ustTreasuryBalance=getBalanceNumber(useUstTreasuryBalance(getUstAddress()));var rvrsOneTreasuryBalance=getBalanceNumber(useRvrsOneTreasuryBalance(getRvrsOneAddress()));var rvrsUstTreasuryBalance=getBalanceNumber(useRvrsUstTreasuryBalance(getRvrsUstAddress()));var RvrsOneValue=new BigNumber(rvrsOneTreasuryBalance).times(2.8);var RvrsUstValue=new BigNumber(rvrsUstTreasuryBalance).times(5.65);var RvrsOneValueString=RvrsOneValue.toNumber().toLocaleString('en-us',{maximumFractionDigits:1});var RvrsUstValueString=RvrsUstValue.toNumber().toLocaleString('en-us',{maximumFractionDigits:1});var ustTreasuryBalanceString=ustTreasuryBalance.toLocaleString('en-us',{maximumFractionDigits:1});var treasuryBalance=new BigNumber(RvrsOneValue).plus(RvrsUstValue).plus(ustTreasuryBalance).plus(612000).plus(372800).toNumber().toLocaleString('en-us',{maximumFractionDigits:0});var harvestAllFarms=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPendingTx(true);_context.prev=1;_context.next=4;return onReward();case 4:_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);case 8:_context.prev=8;setPendingTx(false);return _context.finish(8);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,6,8,11]]);})),[onReward]);return/*#__PURE__*/_jsx(DashboardPage2,{children:/*#__PURE__*/_jsx(DashboardCard,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DashCard,{style:{padding:'40px',marginLeft:'0px',marginRight:'0px'},children:/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"left\",ml:\"10px\",mr:\"10px\",marginBottom:\"-5px\",mt:\"0px\",children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Test,{children:TranslateString(9299,'Reverseum Treasury')}),/*#__PURE__*/_jsx(StyledBtn,{id:\"harvest-all\",disabled:balancesWithValue.length<=0||pendingTx,onClick:harvestAllFarms,style:{'marginLeft':'15px','marginTop':'-5px'},children:pendingTx?/*#__PURE__*/_jsx(FaHandHoldingUsd,{}):/*#__PURE__*/_jsx(FaHandHoldingUsd,{})})]}),/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsxs(\"a\",{style:{textShadow:'0px 0px 8px #fff',borderRadius:'10px',border:'1px',borderStyle:'solid !important',borderColor:'white'},target:\"_blanK\",rel:\"noreferrer\",href:\"https://docs.google.com/spreadsheets/d/1Ocl8Gx8rA4Zbzcsxb8-EuFNEQNlTsMLsMMRazixz_gk/edit?usp=sharing\",className:\"nav-links\",children:[\"Treasury Strategies \",/*#__PURE__*/_jsx(FaLongArrowAltRight,{})]})})]})})})})});};export default MoneyWheel;","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/BondsDashboard/dashboard.tsx"],"names":["React","useCallback","useState","styled","Flex","BigNumber","usePriceCakeBusd","useAllHarvest","useWallet","useFarmsWithBalance","getBalanceNumber","useI18n","farms","FaHandHoldingUsd","FaLongArrowAltRight","useTokenBalance","useTotalSupply","useBurnedBalance","useUstTreasuryBalance","useRvrsOneTreasuryBalance","useRvrsUstTreasuryBalance","Container","getCakeAddress","getRvrsOneAddress","getRvrsUstAddress","getUstAddress","Price","button","DashboardPage2","theme","mediaQueries","sm","lg","StyledBtn","Test","text","Divider","div","ExpandingWrapper","props","expanded","DetailsCard","Stat","Stat2","DCard","Sub","p","DashboardCard","DashCard","MoneyWheel","pendingTx","setPendingTx","account","TranslateString","farmsWithBalance","cakeBalance","eggPrice","toNumber","totalSupply","burnedBalance","showExpandableSection","setShowExpandableSection","earningsSum","reduce","accum","farm","balance","pow","balancesWithValue","filter","balanceType","map","farmWithBalance","pid","onReward","cakePriceUsd","misPrice","tokenPrice","toFixed","circSupply","minus","cakeSupply","circulatingMath","circulatingRVRS","mCap","times","marketCap","isNaN","isFinite","vikingPerBlock","ustTreasuryBalance","rvrsOneTreasuryBalance","rvrsUstTreasuryBalance","RvrsOneValue","RvrsUstValue","RvrsOneValueString","toLocaleString","maximumFractionDigits","RvrsUstValueString","ustTreasuryBalanceString","treasuryBalance","plus","harvestAllFarms","padding","marginLeft","marginRight","length","textShadow","borderRadius","border","borderStyle","borderColor"],"mappings":"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","sourcesContent":["import React, {useCallback, useState} from 'react'\nimport styled from 'styled-components'\nimport { BaseLayout, Button, Card, Flex,  } from '@pancakeswap-libs/uikit'\nimport BigNumber from 'bignumber.js'\nimport { usePriceCakeBusd } from 'state/hooks'\nimport { useAllHarvest } from 'hooks/useHarvest'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport useFarmsWithBalance from 'hooks/useFarmsWithBalance'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport useI18n from 'hooks/useI18n'\nimport CakeHarvestBalance from 'views/Home/components/CakeHarvestBalance'\nimport UnlockButton from 'components/UnlockButton'\nimport CakeWalletBalance from 'views/Home/components/CakeWalletBalance'\nimport CardValue from 'views/Home/components/CardValue'\nimport DashboardPage from 'components/layout/DashboardPage'\nimport farms from 'state/farms'\nimport { FaTelegramPlane, FaTwitter, FaDiscord, FaChartBar, FaMoneyBillAlt, FaTractor, FaHome, FaPrescriptionBottleAlt, FaTumblrSquare, FaCode, FaFlask, FaBook, FaReddit, FaRocketchat, FaRocket, FaBroadcastTower, FaLayerGroup, FaSeedling, FaExclamationTriangle, FaBootstrap, FaLandmark, FaGamepad, FaCircle, FaParachuteBox, FaVoteYea, FaProjectDiagram, FaShieldAlt, FaFire, FaCloud, FaPlayCircle, FaClipboard, FaUser, FaTwitterSquare, FaEnvelopeOpenText, FaDochub, FaHistory, FaHandHolding, FaHandHoldingUsd, FaQuestion, FaQuestionCircle, FaMonument, FaLongArrowAltRight } from 'react-icons/fa';\nimport { useTotalRewards } from 'hooks/useTickets'\nimport useTokenBalance, { useTotalSupply, useBurnedBalance, useUstTreasuryBalance, useRvrsOneTreasuryBalance, useRvrsUstTreasuryBalance } from 'hooks/useTokenBalance'\nimport { Link } from 'react-router-dom'\nimport ExpandableSectionButton from 'components/ExpandableSectionButton'\nimport Container from 'components/layout/Container'\nimport { getCakeAddress, getRvrsOneAddress, getRvrsUstAddress, getUstAddress } from '../../utils/addressHelpers'\n\nconst Price = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #405fb4 !important;\n  border-radius: 16px;\n  color: #405fb4;\n  font-size: 15px;\n  font-weight: 800;\n  width: 100%;\n  display: inline-flex;\n  min-height: 21px;\n  max-height: 37px;\n  letter-spacing: 0.03em;\n  padding: 15px;\n`\n\nconst DashboardPage2 = styled(Container)`\n  min-height: calc(1vh - 64px);\n  padding-top: 16px;\n  padding-bottom: 6px;\n  padding: 5px;\n  max-width: 770px;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    padding-top: 24px;\n    padding-bottom: 24px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    padding-top: 21px;\n    padding-bottom: 32px;\n  }\n`\n\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  min-height: 18px;\n  max-height: 30px;\n  max-width: 40px;\n  padding: 12px;\n  box-shadow: 0px 0px 10px #ccc;\n`\n\nconst Test = styled.text`\n  background-color: rgba(0, 0, 0,0) !important;\n  background: rgba(0, 0, 0,0) !important;\n  font-size: 20px;\n  font-weight: 600;\n  text-shadow: 0px 0px 10px #ccc;\n`\n\nconst Divider = styled.div`\n  background-color: #1E2129;\n  height: 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  width: 0%;\n`\n\nconst ExpandingWrapper = styled.div<{ expanded: boolean }>`\n  height: ${(props) => (props.expanded ? '100%' : '0px')};\n  overflow: hidden;\n`\nconst DetailsCard = styled.div`\n  background: rgba(0, 0, 0,0) !important;\n  border-radius: 0px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 10px;\n  position: center;\n  text-align: center;\n`\n\nconst Stat = styled.text`\n  font-size: 15px;\n  font-weight: 500;\n  text-shadow: 0px 0px 10px #ccc;\n`\n\nconst Stat2 = styled.text`\n  font-size: 15px;\n  font-weight: 700;\n  text-shadow: 0px 0px 10px #ccc;\n`\n\nconst DCard = styled.div`\n  background: #2E3543;\n  border-radius: 20px;\n  padding: 30px;\n  box-shadow: 1px 1px 3px #fff;\n  background-image: linear-gradient(to right, #3B4557 , #2B3344);\n  position: center;\n  text-align: center;\n`\n\nconst Sub = styled.p`\n  color: #7F8997;\n  font-size: 13px;\n  font-weight: 500;\n  margin-bottom: 0px;\n  text-shadow: 0px 0px 0px #4E5C6D;\n`\nconst DashboardCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0px;\n  position: relative;\n  text-align: center;\n\n\n  border: 0px solid #fff;\n  box-shadow: 0px 0px 5px #ccc;\n`\n\nconst DashCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 15px;\n  position: relative;\n  text-align: center;\n`\nconst MoneyWheel: React.FC = () => {\n  const [pendingTx, setPendingTx] = useState(false)\n  const { account } = useWallet()\n  const TranslateString = useI18n()\n  const farmsWithBalance = useFarmsWithBalance()\n  const cakeBalance = getBalanceNumber(useTokenBalance(getCakeAddress()))\n  const eggPrice = usePriceCakeBusd().toNumber()\n  const totalSupply = useTotalSupply()\n  const burnedBalance = useBurnedBalance(getCakeAddress())\n  const [showExpandableSection, setShowExpandableSection] = useState(false)\n  const earningsSum = farmsWithBalance.reduce((accum, farm) => {\n    return accum + new BigNumber(farm.balance).div(new BigNumber(10).pow(18)).toNumber()\n  }, 0)\n  const balancesWithValue = farmsWithBalance.filter((balanceType) => balanceType.balance.toNumber() > 0)\n  const { onReward } = useAllHarvest(balancesWithValue.map((farmWithBalance) => farmWithBalance.pid))\n  const cakePriceUsd = usePriceCakeBusd()\n  const misPrice = usePriceCakeBusd();\n  const tokenPrice = cakePriceUsd.toNumber().toFixed(2);\n  const circSupply = totalSupply ? totalSupply.minus(burnedBalance) : new BigNumber(0);\n  const cakeSupply = getBalanceNumber(circSupply);\n  const circulatingMath = new BigNumber(cakeSupply).minus(5000000);\n  const circulatingRVRS = circulatingMath.toNumber().toFixed(0);\n  const mCap = misPrice.times(circulatingRVRS).toNumber().toFixed(0);\n  const marketCap = ( misPrice.times(circSupply).isNaN() || ! misPrice.times(circSupply).isFinite() \n  ? new BigNumber(0) : misPrice.times(circSupply) );\n\n  let vikingPerBlock = 0;\n  // if (process.env.REACT_APP_DEBUG === \"true\"){ console.log(farms[0], 'testing viking per block') }\n  if(farms && farms[0] && farms[0].vikingPerBlock){\n    vikingPerBlock = new BigNumber(farms[0].vikingPerBlock).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  // Treasury Balances\n  const ustTreasuryBalance = getBalanceNumber(useUstTreasuryBalance(getUstAddress()))\n\n  const rvrsOneTreasuryBalance = getBalanceNumber(useRvrsOneTreasuryBalance(getRvrsOneAddress()))\n  const rvrsUstTreasuryBalance = getBalanceNumber(useRvrsUstTreasuryBalance(getRvrsUstAddress()))\n\n  const RvrsOneValue = new BigNumber(rvrsOneTreasuryBalance).times(2.8)\n  const RvrsUstValue = new BigNumber(rvrsUstTreasuryBalance).times(5.65)\n\n  const RvrsOneValueString = RvrsOneValue.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const RvrsUstValueString = RvrsUstValue.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const ustTreasuryBalanceString = ustTreasuryBalance.toLocaleString('en-us',{ maximumFractionDigits: 1 })\n\n  const treasuryBalance = new BigNumber(RvrsOneValue).plus(RvrsUstValue).plus(ustTreasuryBalance).plus(612000).plus(372800).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 })\n\n  const harvestAllFarms = useCallback(async () => {\n    setPendingTx(true)\n    try {\n      await onReward()\n    } catch (error) {\n      // TODO: find a way to handle when the user rejects transaction or it fails\n    } finally {\n      setPendingTx(false)\n    }\n  }, [onReward])\n\n\n  return (\n    <DashboardPage2>\n      <DashboardCard>\n        <div>\n          <DashCard style={{padding:'40px', marginLeft:'0px', marginRight:'0px'}}>\n\n            <Flex justifyContent='space-between' alignItems='left'  ml='10px' mr='10px'  marginBottom='-5px' mt='0px'> \n              <Flex>\n                <Test>{TranslateString(9299, 'Reverseum Treasury')}</Test>\n                <StyledBtn \n                      id=\"harvest-all\" \n                      disabled={balancesWithValue.length <= 0 || pendingTx} \n                      onClick={harvestAllFarms} \n                      style={{'marginLeft':'15px', 'marginTop':'-5px'}}>\n                      {pendingTx ? <FaHandHoldingUsd/> : <FaHandHoldingUsd/>} \n                </StyledBtn>\n              </Flex>\n              <Flex>\n              <a style={{textShadow:'0px 0px 8px #fff', borderRadius:'10px', border:'1px', borderStyle:'solid !important', borderColor:'white'}} target=\"_blanK\" \n                rel=\"noreferrer\" \n                href=\"https://docs.google.com/spreadsheets/d/1Ocl8Gx8rA4Zbzcsxb8-EuFNEQNlTsMLsMMRazixz_gk/edit?usp=sharing\" \n                className=\"nav-links\">Treasury Strategies <FaLongArrowAltRight/></a>\n              </Flex>\n\n\n            </Flex>\n          </DashCard>\n        </div>\n      </DashboardCard>\n  </DashboardPage2>\n  )\n}\nexport default MoneyWheel\n\n\n"]},"metadata":{},"sourceType":"module"}