{"ast":null,"code":"var _jsxFileName = \"/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/StakeDashboard/dashboard.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport { Flex } from '@pancakeswap-libs/uikit';\nimport BigNumber from 'bignumber.js';\nimport { usePriceCakeBusd } from 'state/hooks';\nimport { useAllHarvest } from 'hooks/useHarvest';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport useFarmsWithBalance from 'hooks/useFarmsWithBalance';\nimport { getBalanceNumber } from 'utils/formatBalance';\nimport useI18n from 'hooks/useI18n';\nimport farms from 'state/farms';\nimport { FaQuestionCircle } from 'react-icons/fa';\nimport useTokenBalance, { useTotalSupply, useBurnedBalance } from 'hooks/useTokenBalance';\nimport ExpandableSectionButton from 'components/ExpandableSectionButton';\nimport Container from 'components/layout/Container';\nimport { getCakeAddress } from '../../utils/addressHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Price = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #405fb4 !important;\n  border-radius: 16px;\n  color: #405fb4;\n  font-size: 15px;\n  font-weight: 800;\n  width: 100%;\n  display: inline-flex;\n  min-height: 21px;\n  max-height: 37px;\n  letter-spacing: 0.03em;\n  padding: 15px;\n`;\nconst DashboardPage2 = styled(Container)`\n  min-height: calc(1vh - 64px);\n  padding-top: 16px;\n  padding-bottom: 6px;\n  padding: 5px;\n  max-width: 770px;\n\n  ${({\n  theme\n}) => theme.mediaQueries.sm} {\n    padding-top: 24px;\n    padding-bottom: 24px;\n  }\n\n  ${({\n  theme\n}) => theme.mediaQueries.lg} {\n    padding-top: 21px;\n    padding-bottom: 32px;\n  }\n`;\n_c = DashboardPage2;\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  min-height: 18px;\n  max-height: 30px;\n  max-width: 40px;\n  padding: 12px;\n  box-shadow: 0px 0px 10px #ccc;\n\n  `;\nconst Test = styled.text`\n  background-color: rgba(0, 0, 0,0) !important;\n  background: rgba(0, 0, 0,0) !important;\n  font-size: 20px;\n  font-weight: 600;\n  text-shadow: 0px 0px 10px #ccc;\n\n`;\n_c2 = Test;\nconst Stat = styled.text`\n  font-size: 15px;\n  font-weight: 500;\n  text-shadow: 0px 0px 10px #ccc;\n`;\n_c3 = Stat;\nconst Sub = styled.p`\ncolor: #7F8997;\nfont-size: 13px;\nfont-weight: 500;\nmargin-bottom: 0px;\ntext-shadow: 0px 0px 0px #4E5C6D;\n`;\n_c4 = Sub;\nconst DashboardCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0px;\n  position: relative;\n  text-align: center;\n\n\n  border: 0px solid #fff;\n  box-shadow: 0px 0px 5px #ccc;\n\n`;\n_c5 = DashboardCard;\nconst DashCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 15px;\n  position: relative;\n  text-align: center;\n\n\n\n`;\n_c6 = DashCard;\n\nconst MoneyWheel = () => {\n  _s();\n\n  const [pendingTx, setPendingTx] = useState(false);\n  const {\n    account\n  } = useWallet();\n  const TranslateString = useI18n();\n  const farmsWithBalance = useFarmsWithBalance();\n  const cakeBalance = getBalanceNumber(useTokenBalance(getCakeAddress())).toLocaleString('en-us', {\n    maximumFractionDigits: 1\n  });\n  const eggPrice = usePriceCakeBusd().toNumber();\n  const totalSupply = useTotalSupply();\n  const burnedBalance = useBurnedBalance(getCakeAddress());\n  const [showExpandableSection, setShowExpandableSection] = useState(false);\n  const earningsSum = farmsWithBalance.reduce((accum, farm) => {\n    return accum + new BigNumber(farm.balance).div(new BigNumber(10).pow(18)).toNumber();\n  }, 0);\n  const balancesWithValue = farmsWithBalance.filter(balanceType => balanceType.balance.toNumber() > 0);\n  const {\n    onReward\n  } = useAllHarvest(balancesWithValue.map(farmWithBalance => farmWithBalance.pid));\n  const cakePriceUsd = usePriceCakeBusd();\n  const misPrice = usePriceCakeBusd();\n  const tokenPrice = cakePriceUsd.toNumber().toFixed(2);\n  const circSupply = totalSupply ? totalSupply.minus(burnedBalance) : new BigNumber(0);\n  const cakeSupply = getBalanceNumber(circSupply);\n  const circulatingMath = new BigNumber(cakeSupply).minus(5000000);\n  const circulatingRVRS = circulatingMath.toNumber();\n  const circulatingRvrsString = circulatingRVRS.toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const mCap = misPrice.times(circulatingRVRS).toNumber().toLocaleString('en-us', {\n    maximumFractionDigits: 0\n  });\n  const marketCap = misPrice.times(circSupply).isNaN() || !misPrice.times(circSupply).isFinite() ? new BigNumber(0) : misPrice.times(circSupply);\n  let vikingPerBlock = 0; // if (process.env.REACT_APP_DEBUG === \"true\"){ console.log(farms[0], 'testing viking per block') }\n\n  if (farms && farms[0] && farms[0].vikingPerBlock) {\n    vikingPerBlock = new BigNumber(farms[0].vikingPerBlock).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  const harvestAllFarms = useCallback(async () => {\n    setPendingTx(true);\n\n    try {\n      await onReward();\n    } catch (error) {// TODO: find a way to handle when the user rejects transaction or it fails\n    } finally {\n      setPendingTx(false);\n    }\n  }, [onReward]);\n  return /*#__PURE__*/_jsxDEV(DashboardPage2, {\n    children: /*#__PURE__*/_jsxDEV(DashboardCard, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(DashCard, {\n          style: {\n            padding: '40px',\n            marginLeft: '0px',\n            marginRight: '0px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Flex, {\n            justifyContent: \"space-between\",\n            alignItems: \"left\",\n            ml: \"10px\",\n            mr: \"10px\",\n            marginBottom: \"-5px\",\n            mt: \"0px\",\n            children: [/*#__PURE__*/_jsxDEV(Flex, {\n              children: /*#__PURE__*/_jsxDEV(Test, {\n                children: TranslateString(9299, 'Single Stake')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ExpandableSectionButton, {\n              onClick: () => setShowExpandableSection(!showExpandableSection)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ExpandingWrapper, {\n            expanded: showExpandableSection,\n            children: /*#__PURE__*/_jsxDEV(DetailsCard, {\n              children: [/*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                ml: \"20px\",\n                mr: \"40px\",\n                mt: \"35px\",\n                marginBottom: \"0px\",\n                children: [/*#__PURE__*/_jsxDEV(Stat, {\n                  children: [\"$\", tokenPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Stat, {\n                  children: [\"$\", mCap]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                ml: \"20px\",\n                mr: \"40px\",\n                mt: \"8px\",\n                marginBottom: \"0px\",\n                children: [/*#__PURE__*/_jsxDEV(Sub, {\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Sub, {\n                  children: \"Market Cap\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                ml: \"20px\",\n                mr: \"40px\",\n                mt: \"20px\",\n                marginBottom: \"0px\",\n                children: [/*#__PURE__*/_jsxDEV(Stat, {\n                  children: circulatingRvrsString\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Stat, {\n                  children: [cakeBalance, \" RVRS\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                ml: \"20px\",\n                mr: \"40px\",\n                mt: \"8px\",\n                marginBottom: \"0px\",\n                children: [/*#__PURE__*/_jsxDEV(Sub, {\n                  children: \"Circulating Supply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Sub, {\n                  children: \"On Wallet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                justifyContent: \"left\",\n                ml: \"20px\",\n                mr: \"40px\",\n                mt: \"30px\",\n                marginBottom: \"0px\",\n                children: /*#__PURE__*/_jsxDEV(Stat, {\n                  children: [/*#__PURE__*/_jsxDEV(FaQuestionCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 27\n                  }, this), \" Stakers mint RVRS and benefit from mutual collaboration.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MoneyWheel, \"caDB79keeC0A2PNpOdWVTNC+UiQ=\", false, function () {\n  return [useWallet, useI18n, useFarmsWithBalance, useTokenBalance, usePriceCakeBusd, useTotalSupply, useBurnedBalance, useAllHarvest, usePriceCakeBusd, usePriceCakeBusd];\n});\n\n_c7 = MoneyWheel;\nexport default MoneyWheel;\nconst Divider = styled.div`\n  background-color: #1E2129;\n  height: 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  width: 0%;\n`;\nconst ExpandingWrapper = styled.div`\n  height: ${props => props.expanded ? '100%' : '0px'};\n  overflow: hidden;\n`;\n_c8 = ExpandingWrapper;\nconst DetailsCard = styled.div`\nbackground: rgba(0, 0, 0,0) !important;\nborder-radius: 0px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 10px;\n  position: center;\n  text-align: center;\n`;\n_c9 = DetailsCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"DashboardPage2\");\n$RefreshReg$(_c2, \"Test\");\n$RefreshReg$(_c3, \"Stat\");\n$RefreshReg$(_c4, \"Sub\");\n$RefreshReg$(_c5, \"DashboardCard\");\n$RefreshReg$(_c6, \"DashCard\");\n$RefreshReg$(_c7, \"MoneyWheel\");\n$RefreshReg$(_c8, \"ExpandingWrapper\");\n$RefreshReg$(_c9, \"DetailsCard\");","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/StakeDashboard/dashboard.tsx"],"names":["React","useCallback","useState","styled","Flex","BigNumber","usePriceCakeBusd","useAllHarvest","useWallet","useFarmsWithBalance","getBalanceNumber","useI18n","farms","FaQuestionCircle","useTokenBalance","useTotalSupply","useBurnedBalance","ExpandableSectionButton","Container","getCakeAddress","Price","button","DashboardPage2","theme","mediaQueries","sm","lg","StyledBtn","Test","text","Stat","Sub","p","DashboardCard","div","DashCard","MoneyWheel","pendingTx","setPendingTx","account","TranslateString","farmsWithBalance","cakeBalance","toLocaleString","maximumFractionDigits","eggPrice","toNumber","totalSupply","burnedBalance","showExpandableSection","setShowExpandableSection","earningsSum","reduce","accum","farm","balance","pow","balancesWithValue","filter","balanceType","onReward","map","farmWithBalance","pid","cakePriceUsd","misPrice","tokenPrice","toFixed","circSupply","minus","cakeSupply","circulatingMath","circulatingRVRS","circulatingRvrsString","mCap","times","marketCap","isNaN","isFinite","vikingPerBlock","harvestAllFarms","error","padding","marginLeft","marginRight","Divider","ExpandingWrapper","props","expanded","DetailsCard"],"mappings":"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","sourcesContent":["import React, {useCallback, useState} from 'react'\nimport styled from 'styled-components'\nimport { BaseLayout, Button, Card, Flex,  } from '@pancakeswap-libs/uikit'\nimport BigNumber from 'bignumber.js'\nimport { usePriceCakeBusd } from 'state/hooks'\nimport { useAllHarvest } from 'hooks/useHarvest'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport useFarmsWithBalance from 'hooks/useFarmsWithBalance'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport useI18n from 'hooks/useI18n'\nimport CakeHarvestBalance from 'views/Home/components/CakeHarvestBalance'\nimport UnlockButton from 'components/UnlockButton'\nimport CakeWalletBalance from 'views/Home/components/CakeWalletBalance'\nimport CardValue from 'views/Home/components/CardValue'\nimport DashboardPage from 'components/layout/DashboardPage'\nimport farms from 'state/farms'\nimport { FaQuestionCircle, FaArrowLeft, FaLongArrowAltLeft } from 'react-icons/fa';\n\nimport { useTotalRewards } from 'hooks/useTickets'\n\nimport useTokenBalance, { useTotalSupply, useBurnedBalance } from 'hooks/useTokenBalance'\nimport { Link } from 'react-router-dom'\nimport ExpandableSectionButton from 'components/ExpandableSectionButton'\nimport Container from 'components/layout/Container'\nimport { getCakeAddress } from '../../utils/addressHelpers'\n\nconst Price = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #405fb4 !important;\n  border-radius: 16px;\n  color: #405fb4;\n  font-size: 15px;\n  font-weight: 800;\n  width: 100%;\n  display: inline-flex;\n  min-height: 21px;\n  max-height: 37px;\n  letter-spacing: 0.03em;\n  padding: 15px;\n`\n\nconst DashboardPage2 = styled(Container)`\n  min-height: calc(1vh - 64px);\n  padding-top: 16px;\n  padding-bottom: 6px;\n  padding: 5px;\n  max-width: 770px;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    padding-top: 24px;\n    padding-bottom: 24px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    padding-top: 21px;\n    padding-bottom: 32px;\n  }\n`\n\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  min-height: 18px;\n  max-height: 30px;\n  max-width: 40px;\n  padding: 12px;\n  box-shadow: 0px 0px 10px #ccc;\n\n  `\n\n\n\nconst Test = styled.text`\n  background-color: rgba(0, 0, 0,0) !important;\n  background: rgba(0, 0, 0,0) !important;\n  font-size: 20px;\n  font-weight: 600;\n  text-shadow: 0px 0px 10px #ccc;\n\n`\n\nconst Stat = styled.text`\n  font-size: 15px;\n  font-weight: 500;\n  text-shadow: 0px 0px 10px #ccc;\n`\n\n\nconst Sub = styled.p`\ncolor: #7F8997;\nfont-size: 13px;\nfont-weight: 500;\nmargin-bottom: 0px;\ntext-shadow: 0px 0px 0px #4E5C6D;\n`\n\n\nconst DashboardCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0px;\n  position: relative;\n  text-align: center;\n\n\n  border: 0px solid #fff;\n  box-shadow: 0px 0px 5px #ccc;\n\n`\n\nconst DashCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 15px;\n  position: relative;\n  text-align: center;\n\n\n\n`\n\n  \nconst MoneyWheel: React.FC = () => {\n  const [pendingTx, setPendingTx] = useState(false)\n  const { account } = useWallet()\n  const TranslateString = useI18n()\n  const farmsWithBalance = useFarmsWithBalance()\n  const cakeBalance = getBalanceNumber(useTokenBalance(getCakeAddress())).toLocaleString('en-us',{ maximumFractionDigits: 1 });\n  const eggPrice = usePriceCakeBusd().toNumber()\n\n  const totalSupply = useTotalSupply()\n  const burnedBalance = useBurnedBalance(getCakeAddress())\n\n  const [showExpandableSection, setShowExpandableSection] = useState(false)\n\n\n\n  const earningsSum = farmsWithBalance.reduce((accum, farm) => {\n    return accum + new BigNumber(farm.balance).div(new BigNumber(10).pow(18)).toNumber()\n  }, 0)\n  const balancesWithValue = farmsWithBalance.filter((balanceType) => balanceType.balance.toNumber() > 0)\n\n  const { onReward } = useAllHarvest(balancesWithValue.map((farmWithBalance) => farmWithBalance.pid))\n\n  const cakePriceUsd = usePriceCakeBusd()\n  const misPrice = usePriceCakeBusd();\n  const tokenPrice = cakePriceUsd.toNumber().toFixed(2);\n\n  const circSupply = totalSupply ? totalSupply.minus(burnedBalance) : new BigNumber(0);\n  const cakeSupply = getBalanceNumber(circSupply);\n  const circulatingMath = new BigNumber(cakeSupply).minus(5000000);\n  const circulatingRVRS = circulatingMath.toNumber();\n  const circulatingRvrsString = circulatingRVRS.toLocaleString('en-us',{ maximumFractionDigits: 0 });\n\n  const mCap = misPrice.times(circulatingRVRS).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n\n  const marketCap = ( misPrice.times(circSupply).isNaN() || ! misPrice.times(circSupply).isFinite() \n  ? new BigNumber(0) : misPrice.times(circSupply) );\n\n  let vikingPerBlock = 0;\n  // if (process.env.REACT_APP_DEBUG === \"true\"){ console.log(farms[0], 'testing viking per block') }\n  if(farms && farms[0] && farms[0].vikingPerBlock){\n    vikingPerBlock = new BigNumber(farms[0].vikingPerBlock).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  const harvestAllFarms = useCallback(async () => {\n    setPendingTx(true)\n    try {\n      await onReward()\n    } catch (error) {\n      // TODO: find a way to handle when the user rejects transaction or it fails\n    } finally {\n      setPendingTx(false)\n    }\n  }, [onReward])\n\n\n  return (\n    <DashboardPage2>\n\n      <DashboardCard>\n        <div>\n\n            <DashCard style={{padding:'40px', marginLeft:'0px', marginRight:'0px'}}>\n\n              <Flex justifyContent='space-between' alignItems='left'  ml='10px' mr='10px'  marginBottom='-5px' mt='0px'> \n\n                <Flex>\n                  <Test>{TranslateString(9299, 'Single Stake')}</Test>\n                </Flex>\n                <ExpandableSectionButton onClick={() => setShowExpandableSection(!showExpandableSection)}/>\n\n              </Flex>\n\n              <ExpandingWrapper expanded={showExpandableSection}>\n\n              <DetailsCard>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px' mt=\"35px\"  marginBottom='0px'  > \n                    <Stat>${tokenPrice}</Stat>\n                    <Stat>${mCap}</Stat>\n                  </Flex>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px'  mt=\"8px\"  marginBottom='0px'  >\n                      <Sub>Price</Sub>\n                      <Sub>Market Cap</Sub> \n                  </Flex>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px'    mt=\"20px\"  marginBottom='0px'  > \n                    <Stat>{circulatingRvrsString}</Stat>\n                    <Stat>{cakeBalance} RVRS</Stat>\n                  </Flex>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px'    mt=\"8px\"  marginBottom='0px'  >\n                    <Sub>Circulating Supply</Sub>\n                    <Sub>On Wallet</Sub>\n                  </Flex>\n\n                  <Flex justifyContent=\"left\" ml='20px' mr='40px'  mt=\"30px\"  marginBottom='0px' >\n                    <Stat><FaQuestionCircle/> Stakers mint RVRS and benefit from mutual collaboration.</Stat>\n                  </Flex>\n\n                </DetailsCard>\n              </ExpandingWrapper>\n            </DashCard>\n          </div>\n        </DashboardCard>\n    </DashboardPage2>\n  )\n}\nexport default MoneyWheel\n\n\nconst Divider = styled.div`\n  background-color: #1E2129;\n  height: 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  width: 0%;\n`\n\nconst ExpandingWrapper = styled.div<{ expanded: boolean }>`\n  height: ${(props) => (props.expanded ? '100%' : '0px')};\n  overflow: hidden;\n`\nconst DetailsCard = styled.div`\nbackground: rgba(0, 0, 0,0) !important;\nborder-radius: 0px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 10px;\n  position: center;\n  text-align: center;\n`"]},"metadata":{},"sourceType":"module"}