{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState}from'react';import Page from'components/layout/containers/page';import{Flex}from'@pancakeswap-libs/uikit';import BigNumber from'bignumber.js';import{useWallet}from\"@binance-chain/bsc-use-wallet\";import TypographyTitle from'components/layout/typography/typographyTitle';import TypographyBold from'components/layout/typography/typographyBold';import Typography from'components/layout/typography/typography';import{Skeleton}from'components/Skeleton';import AirdropContainer from'components/layout/containers/airdropContainer';import ContentCard from'components/layout/cards/airdrop/contentCard';import TitleCard from'components/layout/cards/airdrop/titleCard';import ContentCardMain from'components/layout/cards/airdrop/contentCardMain';import Ripples from'react-ripples';import Divider from'components/divider';import ClaimButtonDisabled from'components/layout/buttons/claimAirdropButtonDisabled';import ClaimButton from'components/layout/buttons/claimAirdropButton';import{useAirdropData}from\"../../state/hooks\";import useAirdropClaim from\"../../hooks/useAirdropClaim\";import{getBalanceNumber}from\"../../utils/formatBalance\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Airdrop=function Airdrop(){var _useWallet=useWallet(),account=_useWallet.account;var airdropData=useAirdropData(account);var _useAirdropClaim=useAirdropClaim(account),onAirdropClaim=_useAirdropClaim.onAirdropClaim;var totalDistributed=getBalanceNumber(airdropData.totalDistributed);var toClaim=getBalanceNumber(airdropData.userClaimable);var claimed=getBalanceNumber(airdropData.userTotalClaimed);var lastClaimAmount=getBalanceNumber(airdropData.userLastClaimedAmount);var expectedReturnsNo=new BigNumber(lastClaimAmount).times(52.2).toNumber();var expectedReturnsStr=expectedReturnsNo.toLocaleString('en-us',{maximumFractionDigits:2});var totalDistributedNo=totalDistributed;var totalDistributedStr=totalDistributed.toLocaleString('en-us',{maximumFractionDigits:2});var toClaimStr=toClaim.toLocaleString('en-us',{maximumFractionDigits:3,minimumFractionDigits:2});var claimedStr=claimed.toLocaleString('en-us',{maximumFractionDigits:3});var lastClaimAmountStr=lastClaimAmount.toLocaleString('en-us',{maximumFractionDigits:0});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pendingTxn=_useState2[0],setPendingTxn=_useState2[1];var handleAirdropClaim=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var txHash;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setPendingTxn(true);_context.next=4;return onAirdropClaim();case 4:txHash=_context.sent;if(!txHash){setPendingTxn(false);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);setPendingTxn(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[onAirdropClaim,setPendingTxn]);return/*#__PURE__*/_jsx(Page,{children:/*#__PURE__*/_jsxs(AirdropContainer,{children:[/*#__PURE__*/_jsxs(TitleCard,{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(TypographyTitle,{children:\"Claim Your Weekly\\xA0\"}),/*#__PURE__*/_jsx(\"a\",{target:\"_blanK\",rel:\"noreferrer\",href:\"https://reverse.gitbook.io/docs/the-protocol/reverseum-bonding-pools\",className:\"nav-links\",children:/*#__PURE__*/_jsx(TypographyTitle,{style:{marginTop:'15px',marginBottom:'15px',borderBottom:'1px dotted #FFFF'},children:\"UST Airdrop\"})})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(ContentCard,{style:{marginRight:'7px'},children:[totalDistributedNo>10?/*#__PURE__*/_jsxs(TypographyBold,{style:{marginBottom:'5px'},children:[\"$\",totalDistributedStr]}):/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(Skeleton,{height:20,marginBottom:\"5px\"})}),/*#__PURE__*/_jsx(Typography,{children:\"Total Distributed\"})]}),/*#__PURE__*/_jsxs(ContentCardMain,{children:[expectedReturnsNo>1?/*#__PURE__*/_jsxs(TypographyBold,{style:{marginBottom:'5px'},children:[expectedReturnsStr,\" UST\"]}):/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(Skeleton,{height:20,marginBottom:\"5px\"})}),/*#__PURE__*/_jsx(Typography,{children:\"Yearly Returns\"})]}),/*#__PURE__*/_jsx(ContentCard,{style:{marginLeft:'7px'},children:account!=null&&account.length>1?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(TypographyBold,{style:{marginBottom:'5px'},children:[claimedStr,\" UST\"]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Claimed by (\",account.substring(0,5),\")\"]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(Skeleton,{})}),/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(Skeleton,{marginTop:\"5px\"})})]})})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",padding:\"10px\",marginTop:\"20px\",children:[/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",marginTop:\"2px\",children:[/*#__PURE__*/_jsx(Typography,{children:\"UST\"}),/*#__PURE__*/_jsx(TypographyBold,{style:{marginLeft:'10px',marginTop:'5px'},children:toClaimStr})]}),toClaim&&toClaim>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-flex',borderRadius:15,overflow:'hidden'},children:/*#__PURE__*/_jsx(Ripples,{children:/*#__PURE__*/_jsx(ClaimButton,{onClick:handleAirdropClaim,disabled:pendingTxn,children:\"Collect\"})})}):/*#__PURE__*/_jsx(ClaimButtonDisabled,{disabled:true,children:\"Claimed\"})]}),/*#__PURE__*/_jsx(Divider,{})]})});};export default Airdrop;","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/pages/Airdrops/airdrops.tsx"],"names":["React","useCallback","useState","Page","Flex","BigNumber","useWallet","TypographyTitle","TypographyBold","Typography","Skeleton","AirdropContainer","ContentCard","TitleCard","ContentCardMain","Ripples","Divider","ClaimButtonDisabled","ClaimButton","useAirdropData","useAirdropClaim","getBalanceNumber","Airdrop","account","airdropData","onAirdropClaim","totalDistributed","toClaim","userClaimable","claimed","userTotalClaimed","lastClaimAmount","userLastClaimedAmount","expectedReturnsNo","times","toNumber","expectedReturnsStr","toLocaleString","maximumFractionDigits","totalDistributedNo","totalDistributedStr","toClaimStr","minimumFractionDigits","claimedStr","lastClaimAmountStr","pendingTxn","setPendingTxn","handleAirdropClaim","txHash","console","error","marginBottom","marginTop","borderBottom","marginRight","marginLeft","length","substring","display","borderRadius","overflow"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react'\nimport Page from 'components/layout/containers/page'\nimport { Flex } from '@pancakeswap-libs/uikit'\nimport BigNumber from 'bignumber.js'\nimport { useWallet } from \"@binance-chain/bsc-use-wallet\"\nimport TypographyTitle from 'components/layout/typography/typographyTitle'\nimport TypographyBold from 'components/layout/typography/typographyBold'\nimport Typography from 'components/layout/typography/typography'\nimport { Skeleton } from 'components/Skeleton'\nimport AirdropContainer from 'components/layout/containers/airdropContainer'\nimport ContentCard from 'components/layout/cards/airdrop/contentCard'\nimport TitleCard from 'components/layout/cards/airdrop/titleCard'\nimport ContentCardMain from 'components/layout/cards/airdrop/contentCardMain'\nimport Ripples, { createRipples } from 'react-ripples'\nimport Divider from 'components/divider'\nimport ClaimButtonDisabled from 'components/layout/buttons/claimAirdropButtonDisabled'\nimport ClaimButton from 'components/layout/buttons/claimAirdropButton'\nimport { useAirdropData } from \"../../state/hooks\"\nimport useAirdropClaim from \"../../hooks/useAirdropClaim\"\nimport { getBalanceNumber } from \"../../utils/formatBalance\"\n\nconst Airdrop = () => {\n  const { account } = useWallet()\n  const airdropData = useAirdropData(account)\n  const { onAirdropClaim } = useAirdropClaim(account)\n  const totalDistributed = getBalanceNumber(airdropData.totalDistributed)\n  const toClaim = getBalanceNumber(airdropData.userClaimable)\n  const claimed = getBalanceNumber(airdropData.userTotalClaimed)\n  const lastClaimAmount = getBalanceNumber(airdropData.userLastClaimedAmount)\n\n  const expectedReturnsNo = new BigNumber(lastClaimAmount).times(52.2).toNumber()\n  const expectedReturnsStr = expectedReturnsNo.toLocaleString('en-us', { maximumFractionDigits: 2 })\n\n  const totalDistributedNo = totalDistributed;\n  const totalDistributedStr = totalDistributed.toLocaleString('en-us', { maximumFractionDigits: 2 });\n\n  const toClaimStr = toClaim.toLocaleString('en-us', { maximumFractionDigits: 3, minimumFractionDigits: 2 })\n  const claimedStr = claimed.toLocaleString('en-us', { maximumFractionDigits: 3 })\n  const lastClaimAmountStr = lastClaimAmount.toLocaleString('en-us', { maximumFractionDigits: 0 })\n  const [pendingTxn, setPendingTxn] = useState(false)\n  const handleAirdropClaim = useCallback(async () => {\n    try {\n      setPendingTxn(true)\n      const txHash = await onAirdropClaim()\n      if (!txHash) { setPendingTxn(false) }\n    } catch (e) {\n      console.error(e)\n      setPendingTxn(false)\n    }\n  }, [onAirdropClaim, setPendingTxn])\n\n  return (\n    <Page>\n      <AirdropContainer>\n        <TitleCard style={{ marginBottom: '10px' }}>\n          <TypographyTitle>Claim Your Weekly&nbsp;</TypographyTitle>\n          <a target=\"_blanK\" rel=\"noreferrer\" href=\"https://reverse.gitbook.io/docs/the-protocol/reverseum-bonding-pools\" className=\"nav-links\">\n            <TypographyTitle style={{ marginTop: '15px', marginBottom: '15px', borderBottom: '1px dotted #FFFF' }}>UST Airdrop</TypographyTitle>\n          </a>\n        </TitleCard>\n        <Flex justifyContent=\"center\">\n          <ContentCard style={{ marginRight: '7px' }}>\n            {totalDistributedNo > 10 ?\n              <TypographyBold style={{ marginBottom: '5px' }}>${totalDistributedStr}</TypographyBold>\n              :\n              <Typography><Skeleton height={20} marginBottom=\"5px\" /></Typography>\n            }\n            <Typography>Total Distributed</Typography>\n          </ContentCard>\n          <ContentCardMain>\n            {expectedReturnsNo > 1 ?\n              <TypographyBold style={{ marginBottom: '5px' }}>{expectedReturnsStr} UST</TypographyBold>\n              :\n              <Typography><Skeleton height={20} marginBottom=\"5px\" /></Typography>\n            }\n            <Typography>Yearly Returns</Typography>\n          </ContentCardMain>\n          <ContentCard style={{ marginLeft: '7px' }}>\n            {account != null && account.length > 1 ?\n              <div>\n                <TypographyBold style={{ marginBottom: '5px' }}>{claimedStr} UST</TypographyBold>\n                <Typography>Claimed by ({account.substring(0, 5)})</Typography>\n              </div>\n              :\n              <div>\n                <Typography><Skeleton /></Typography>\n                <Typography><Skeleton marginTop=\"5px\" /></Typography>\n              </div>\n            }\n          </ContentCard>\n        </Flex>\n        <Flex justifyContent=\"space-between\" padding=\"10px\" marginTop=\"20px\">\n          <Flex flexDirection=\"column\" marginTop=\"2px\">\n            <Typography>UST</Typography>\n            <TypographyBold style={{ marginLeft: '10px', marginTop: '5px' }}>{toClaimStr}</TypographyBold>\n          </Flex>\n          {toClaim && toClaim > 0 ?\n            <div\n              style={{\n                display: 'inline-flex',\n                borderRadius: 15,\n                overflow: 'hidden',\n              }}\n            >\n              <Ripples>\n                <ClaimButton onClick={handleAirdropClaim} disabled={pendingTxn}>\n                  Collect\n                </ClaimButton>\n              </Ripples>\n            </div>\n            :\n            <ClaimButtonDisabled disabled>\n              Claimed\n            </ClaimButtonDisabled>\n          }\n        </Flex>\n        <Divider />\n      </AirdropContainer>\n    </Page>\n  )\n}\n\nexport default Airdrop"]},"metadata":{},"sourceType":"module"}