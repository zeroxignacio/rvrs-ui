{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport { useCallback } from 'react';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport { useDispatch } from 'react-redux';\nimport { fetchFarmUserDataAsync, updateUserBalance, updateUserPendingReward2 } from 'state/actions';\nimport { soushHarvest, soushHarvestBnb, harvest, soushHarvestBurn, soushHarvestBurn2 } from 'utils/callHelpers';\nimport { useAutoRvrs, useMasterchef, useSousChefBurn } from './useContract';\nexport const useHarvest = farmPid => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    account\n  } = useWallet();\n  const masterChefContract = useMasterchef();\n  const handleHarvest = useCallback(async () => {\n    const txHash = await harvest(masterChefContract, farmPid, account);\n    dispatch(fetchFarmUserDataAsync(account));\n    return txHash;\n  }, [account, dispatch, farmPid, masterChefContract]);\n  return {\n    onReward: handleHarvest\n  };\n};\n\n_s(useHarvest, \"UT4quCg5r96YBGnHn7yg5VONUdg=\", false, function () {\n  return [useDispatch, useWallet, useMasterchef];\n});\n\nexport const useAllHarvest = farmPids => {\n  _s2();\n\n  const {\n    account\n  } = useWallet();\n  const masterChefContract = useMasterchef();\n  const handleHarvest = useCallback(async () => {\n    const harvestPromises = farmPids.reduce((accum, pid) => {\n      return [...accum, harvest(masterChefContract, pid, account)];\n    }, []);\n    return Promise.all(harvestPromises);\n  }, [account, farmPids, masterChefContract]);\n  return {\n    onReward: handleHarvest\n  };\n};\n\n_s2(useAllHarvest, \"MxLQ/Cd4zmOMdglbbhX6+hOW2K0=\", false, function () {\n  return [useWallet, useMasterchef];\n});\n\nexport const useSousHarvest = (sousId, isUsingBnb = false) => {\n  _s3();\n\n  const dispatch = useDispatch();\n  const {\n    account\n  } = useWallet();\n  const sousChefContract = useAutoRvrs();\n  const masterChefContract = useMasterchef();\n  const handleHarvest = useCallback(async () => {\n    if (sousId === 0) {\n      await harvest(masterChefContract, 0, account);\n    } else if (isUsingBnb) {\n      await soushHarvestBnb(sousChefContract, account);\n    } else {\n      await soushHarvest(sousChefContract, account);\n    }\n\n    dispatch(updateUserBalance(sousId, account));\n  }, [account, dispatch, isUsingBnb, masterChefContract, sousChefContract, sousId]);\n  return {\n    onReward: handleHarvest\n  };\n};\n\n_s3(useSousHarvest, \"scCBj4NeUQwZvNb3lziUGqFFr7w=\", false, function () {\n  return [useDispatch, useWallet, useAutoRvrs, useMasterchef];\n});\n\nexport const useSousHarvestBurn = (sousId, isUsingBnb = false) => {\n  _s4();\n\n  const dispatch = useDispatch();\n  const {\n    account\n  } = useWallet();\n  const sousChefContract = useSousChefBurn(sousId);\n  const handleHarvest = useCallback(async () => {\n    if (sousId <= 3) {\n      await soushHarvestBurn(sousChefContract, account);\n    } else {\n      await soushHarvestBurn2(sousChefContract, account);\n    }\n\n    dispatch(updateUserPendingReward2(sousId, account));\n    dispatch(updateUserBalance(sousId, account));\n  }, [account, dispatch, sousChefContract, sousId]);\n  return {\n    onReward: handleHarvest\n  };\n};\n\n_s4(useSousHarvestBurn, \"h6aW0uHHjhAyGjhgnYzzCPQJGFo=\", false, function () {\n  return [useDispatch, useWallet, useSousChefBurn];\n});","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/hooks/useHarvest.ts"],"names":["useCallback","useWallet","useDispatch","fetchFarmUserDataAsync","updateUserBalance","updateUserPendingReward2","soushHarvest","soushHarvestBnb","harvest","soushHarvestBurn","soushHarvestBurn2","useAutoRvrs","useMasterchef","useSousChefBurn","useHarvest","farmPid","dispatch","account","masterChefContract","handleHarvest","txHash","onReward","useAllHarvest","farmPids","harvestPromises","reduce","accum","pid","Promise","all","useSousHarvest","sousId","isUsingBnb","sousChefContract","useSousHarvestBurn"],"mappings":"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","sourcesContent":["import { useCallback } from 'react'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { useDispatch } from 'react-redux'\nimport { fetchFarmUserDataAsync, updateUserBalance, updateUserPendingReward2 } from 'state/actions'\nimport { soushHarvest, soushHarvestBnb, harvest, soushHarvestBurn, soushHarvestBurn2 } from 'utils/callHelpers'\nimport { useAutoRvrs, useMasterchef, useSousChef2, useSousChefBurn } from './useContract'\n\nexport const useHarvest = (farmPid: number) => {\n  const dispatch = useDispatch()\n  const { account } = useWallet()\n  const masterChefContract = useMasterchef()\n\n  const handleHarvest = useCallback(async () => {\n    const txHash = await harvest(masterChefContract, farmPid, account)\n    dispatch(fetchFarmUserDataAsync(account))\n    return txHash\n  }, [account, dispatch, farmPid, masterChefContract])\n\n  return { onReward: handleHarvest }\n}\n\nexport const useAllHarvest = (farmPids: number[]) => {\n  const { account } = useWallet()\n  const masterChefContract = useMasterchef()\n\n  const handleHarvest = useCallback(async () => {\n    const harvestPromises = farmPids.reduce((accum, pid) => {\n      return [...accum, harvest(masterChefContract, pid, account)]\n    }, [])\n\n    return Promise.all(harvestPromises)\n  }, [account, farmPids, masterChefContract])\n\n  return { onReward: handleHarvest }\n}\n\nexport const useSousHarvest = (sousId, isUsingBnb = false) => {\n  const dispatch = useDispatch();\n  const { account } = useWallet();\n  const sousChefContract = useAutoRvrs();\n  const masterChefContract = useMasterchef();\n\n  const handleHarvest = useCallback(async () => {\n    if (sousId === 0) {\n      await harvest(masterChefContract, 0, account);\n    } else if (isUsingBnb) {\n      await soushHarvestBnb(sousChefContract, account);\n    } else {\n      await soushHarvest(sousChefContract, account);\n    }\n    dispatch(updateUserBalance(sousId, account));\n  }, [account, dispatch, isUsingBnb, masterChefContract, sousChefContract, sousId]);\n\n  return { onReward: handleHarvest };\n}\n\nexport const useSousHarvestBurn = (sousId, isUsingBnb = false) => {\n  const dispatch = useDispatch()\n  const { account } = useWallet()\n  const sousChefContract = useSousChefBurn(sousId)\n\n  const handleHarvest = useCallback(async () => {\n    if (sousId <= 3) {\n      await soushHarvestBurn(sousChefContract, account)\n    } else {\n      await soushHarvestBurn2(sousChefContract, account)\n    }\n    dispatch(updateUserPendingReward2(sousId, account))\n    dispatch(updateUserBalance(sousId, account))\n  }, [account, dispatch, sousChefContract, sousId])\n\n  return { onReward: handleHarvest }\n}\n\n"]},"metadata":{},"sourceType":"module"}