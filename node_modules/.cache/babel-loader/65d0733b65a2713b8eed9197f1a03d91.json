{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport cakeABI from 'config/abi/cake.json';\nimport { getContract } from 'utils/web3';\nimport { getTokenBalance } from 'utils/erc20';\nimport { getCakeAddress, getRvrsOneAddress, getRvrsUstAddress, getUstAddress } from 'utils/addressHelpers';\nimport useRefresh from './useRefresh';\n\nconst useTokenBalance = tokenAddress => {\n  _s();\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const {\n    account,\n    ethereum\n  } = useWallet();\n  const {\n    fastRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const res = await getTokenBalance(ethereum, tokenAddress, account);\n      setBalance(new BigNumber(res));\n    };\n\n    if (account && ethereum) {\n      fetchBalance();\n    }\n  }, [account, ethereum, tokenAddress, fastRefresh]);\n  return balance;\n};\n\n_s(useTokenBalance, \"q62EJqLRbUrq+vqmuC+/Ex/Zzow=\", false, function () {\n  return [useWallet, useRefresh];\n});\n\nexport const useTotalSupply = () => {\n  _s2();\n\n  const {\n    slowRefresh\n  } = useRefresh();\n  const [totalSupply, setTotalSupply] = useState();\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const cakeContract = getContract(cakeABI, getCakeAddress());\n      const supply = await cakeContract.methods.totalSupply().call();\n      setTotalSupply(new BigNumber(supply));\n    }\n\n    fetchTotalSupply();\n  }, [slowRefresh]);\n  return totalSupply;\n};\n\n_s2(useTotalSupply, \"2ibDHTZcwYU9LaabTrlsn9E1ufk=\", false, function () {\n  return [useRefresh];\n});\n\nexport const useBurnedBalance = tokenAddress => {\n  _s3();\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const {\n    slowRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const cakeContract = getContract(cakeABI, getCakeAddress());\n      const bal = await cakeContract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call();\n      setBalance(new BigNumber(bal));\n    };\n\n    fetchBalance();\n  }, [tokenAddress, slowRefresh]);\n  return balance;\n};\n\n_s3(useBurnedBalance, \"qyENdKcKAtFXxHK1y11FyHVhXpA=\", false, function () {\n  return [useRefresh];\n});\n\nexport const useUstTreasuryBalance = tokenAddress => {\n  _s4();\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const {\n    slowRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const ustContract = getContract(cakeABI, getUstAddress());\n      const bal = await ustContract.methods.balanceOf('0xA3904e99b6012EB883DB1090D02D4e954539EC61').call();\n      setBalance(new BigNumber(bal));\n    };\n\n    fetchBalance();\n  }, [tokenAddress, slowRefresh]);\n  return balance;\n};\n\n_s4(useUstTreasuryBalance, \"qyENdKcKAtFXxHK1y11FyHVhXpA=\", false, function () {\n  return [useRefresh];\n});\n\nexport const useRvrsOneTreasuryBalance = tokenAddress => {\n  _s5();\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const {\n    slowRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const rvrsoneContract = getContract(cakeABI, getRvrsOneAddress());\n      const bal = await rvrsoneContract.methods.balanceOf('0xA3904e99b6012EB883DB1090D02D4e954539EC61').call();\n      setBalance(new BigNumber(bal));\n    };\n\n    fetchBalance();\n  }, [tokenAddress, slowRefresh]);\n  return balance;\n};\n\n_s5(useRvrsOneTreasuryBalance, \"qyENdKcKAtFXxHK1y11FyHVhXpA=\", false, function () {\n  return [useRefresh];\n});\n\nexport const useRvrsUstTreasuryBalance = tokenAddress => {\n  _s6();\n\n  const [balance, setBalance] = useState(new BigNumber(0));\n  const {\n    slowRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const rvrsustContract = getContract(cakeABI, getRvrsUstAddress());\n      const bal = await rvrsustContract.methods.balanceOf('0xA3904e99b6012EB883DB1090D02D4e954539EC61').call();\n      setBalance(new BigNumber(bal));\n    };\n\n    fetchBalance();\n  }, [tokenAddress, slowRefresh]);\n  return balance;\n};\n\n_s6(useRvrsUstTreasuryBalance, \"qyENdKcKAtFXxHK1y11FyHVhXpA=\", false, function () {\n  return [useRefresh];\n});\n\nexport default useTokenBalance;","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/hooks/useTokenBalance.ts"],"names":["useEffect","useState","BigNumber","useWallet","cakeABI","getContract","getTokenBalance","getCakeAddress","getRvrsOneAddress","getRvrsUstAddress","getUstAddress","useRefresh","useTokenBalance","tokenAddress","balance","setBalance","account","ethereum","fastRefresh","fetchBalance","res","useTotalSupply","slowRefresh","totalSupply","setTotalSupply","fetchTotalSupply","cakeContract","supply","methods","call","useBurnedBalance","bal","balanceOf","useUstTreasuryBalance","ustContract","useRvrsOneTreasuryBalance","rvrsoneContract","useRvrsUstTreasuryBalance","rvrsustContract"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { provider } from 'web3-core'\nimport cakeABI from 'config/abi/cake.json'\nimport { getContract } from 'utils/web3'\nimport { getTokenBalance } from 'utils/erc20'\nimport { getCakeAddress, getRvrsOneAddress, getRvrsUstAddress, getUstAddress } from 'utils/addressHelpers'\nimport useRefresh from './useRefresh'\n\nconst useTokenBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { account, ethereum }: { account: string; ethereum: provider } = useWallet()\n  const { fastRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const res = await getTokenBalance(ethereum, tokenAddress, account)\n      setBalance(new BigNumber(res))\n    }\n\n    if (account && ethereum) {\n      fetchBalance()\n    }\n  }, [account, ethereum, tokenAddress, fastRefresh])\n\n  return balance\n}\n\nexport const useTotalSupply = () => {\n  const { slowRefresh } = useRefresh()\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\n\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const cakeContract = getContract(cakeABI, getCakeAddress())\n      const supply = await cakeContract.methods.totalSupply().call()\n      setTotalSupply(new BigNumber(supply))\n    }\n\n    fetchTotalSupply()\n  }, [slowRefresh])\n\n  return totalSupply\n}\n\nexport const useBurnedBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { slowRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const cakeContract = getContract(cakeABI, getCakeAddress())\n      const bal = await cakeContract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call()\n      setBalance(new BigNumber(bal))\n    }\n\n    fetchBalance()\n  }, [tokenAddress, slowRefresh])\n\n  return balance\n}\n\nexport const useUstTreasuryBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { slowRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const ustContract = getContract(cakeABI, getUstAddress())\n      const bal = await ustContract.methods.balanceOf('0xA3904e99b6012EB883DB1090D02D4e954539EC61').call()\n      setBalance(new BigNumber(bal))\n    }\n\n    fetchBalance()\n  }, [tokenAddress, slowRefresh])\n\n  return balance\n}\n\nexport const useRvrsOneTreasuryBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { slowRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const rvrsoneContract = getContract(cakeABI, getRvrsOneAddress())\n      const bal = await rvrsoneContract.methods.balanceOf('0xA3904e99b6012EB883DB1090D02D4e954539EC61').call()\n      setBalance(new BigNumber(bal))\n    }\n\n    fetchBalance()\n  }, [tokenAddress, slowRefresh])\n\n  return balance\n}\n\nexport const useRvrsUstTreasuryBalance = (tokenAddress: string) => {\n  const [balance, setBalance] = useState(new BigNumber(0))\n  const { slowRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const rvrsustContract = getContract(cakeABI, getRvrsUstAddress())\n      const bal = await rvrsustContract.methods.balanceOf('0xA3904e99b6012EB883DB1090D02D4e954539EC61').call()\n      setBalance(new BigNumber(bal))\n    }\n\n    fetchBalance()\n  }, [tokenAddress, slowRefresh])\n\n  return balance\n}\n\nexport default useTokenBalance\n"]},"metadata":{},"sourceType":"module"}