{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useCallback}from'react';import{useWallet}from'@binance-chain/bsc-use-wallet';import{ethers}from'ethers';import{useDispatch}from'react-redux';import{updateUserAllowance,fetchFarmUserDataAsync,updateUserAllowance2}from'state/actions';import{approve}from'utils/callHelpers';import{useMasterchef,useCake,useLottery,useMoneyWheel,useMoneyWheel2,useWone,useSousChefBurn,useAutoRvrs}from'./useContract';// Approve a Farm\nexport var useApprove=function useApprove(lpContract){var dispatch=useDispatch();var _useWallet=useWallet(),account=_useWallet.account;var masterChefContract=useMasterchef();var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tx;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return approve(lpContract,masterChefContract,account);case 3:tx=_context.sent;dispatch(fetchFarmUserDataAsync(account));return _context.abrupt(\"return\",tx);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",false);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[account,dispatch,lpContract,masterChefContract]);return{onApprove:handleApprove};};// Approve a Pool\nexport var useSousApprove=function useSousApprove(lpContract,sousId){var dispatch=useDispatch();var _useWallet2=useWallet(),account=_useWallet2.account;var sousChefContract=useAutoRvrs();var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var tx;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return approve(lpContract,sousChefContract,account);case 3:tx=_context2.sent;dispatch(updateUserAllowance(sousId,account));return _context2.abrupt(\"return\",tx);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",false);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);})),[account,dispatch,lpContract,sousChefContract,sousId]);return{onApprove:handleApprove};};export var useSousApproveBurn=function useSousApproveBurn(lpContract,sousId){var dispatch=useDispatch();var _useWallet3=useWallet(),account=_useWallet3.account;var sousChefContract=useSousChefBurn(sousId);var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var tx;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return approve(lpContract,sousChefContract,account);case 3:tx=_context3.sent;dispatch(updateUserAllowance2(sousId,account));return _context3.abrupt(\"return\",tx);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",false);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);})),[account,dispatch,lpContract,sousChefContract,sousId]);return{onApprove:handleApprove};};// Approve the lottery\nexport var useLotteryApprove=function useLotteryApprove(){var _useWallet4=useWallet(),account=_useWallet4.account;var cakeContract=useCake();var lotteryContract=useLottery();var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var tx;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return approve(cakeContract,lotteryContract,account);case 3:tx=_context4.sent;return _context4.abrupt(\"return\",tx);case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);return _context4.abrupt(\"return\",false);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);})),[account,cakeContract,lotteryContract]);return{onApprove:handleApprove};};/// Je moet in het token contract het wheel contract toestemming geven om namens jou tokens uit te mogen geven.\nexport var useMoneyWheelApprove=function useMoneyWheelApprove(){var _useWallet5=useWallet(),account=_useWallet5.account;var cakeContract=useCake();var moneyWheelContract=useMoneyWheel();var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var tx;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return approve(cakeContract,moneyWheelContract,account);case 3:tx=_context5.sent;return _context5.abrupt(\"return\",tx);case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);return _context5.abrupt(\"return\",false);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);})),[account,cakeContract,moneyWheelContract]);return{onApprove:handleApprove};};/// Approve the Money Wheel2\nexport var useMoneyWheel2Approve=function useMoneyWheel2Approve(){var _useWallet6=useWallet(),account=_useWallet6.account;var jewelContract=useWone();var moneyWheel2Contract=useMoneyWheel2();var handleApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var tx;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return approve(jewelContract,moneyWheel2Contract,account);case 3:tx=_context6.sent;return _context6.abrupt(\"return\",tx);case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);return _context6.abrupt(\"return\",false);case 10:case\"end\":return _context6.stop();}}},_callee6,null,[[0,7]]);})),[account,jewelContract,moneyWheel2Contract]);return{onApprove:handleApprove};};// Approve an IFO\nexport var useIfoApprove=function useIfoApprove(tokenContract,spenderAddress){var _useWallet7=useWallet(),account=_useWallet7.account;var onApprove=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var tx;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return tokenContract.methods.approve(spenderAddress,ethers.constants.MaxUint256).send({from:account});case 3:tx=_context7.sent;return _context7.abrupt(\"return\",tx);case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);return _context7.abrupt(\"return\",false);case 10:case\"end\":return _context7.stop();}}},_callee7,null,[[0,7]]);})),[account,spenderAddress,tokenContract]);return onApprove;};","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/hooks/useApprove.ts"],"names":["useCallback","useWallet","ethers","useDispatch","updateUserAllowance","fetchFarmUserDataAsync","updateUserAllowance2","approve","useMasterchef","useCake","useLottery","useMoneyWheel","useMoneyWheel2","useWone","useSousChefBurn","useAutoRvrs","useApprove","lpContract","dispatch","account","masterChefContract","handleApprove","tx","onApprove","useSousApprove","sousId","sousChefContract","useSousApproveBurn","useLotteryApprove","cakeContract","lotteryContract","useMoneyWheelApprove","moneyWheelContract","useMoneyWheel2Approve","jewelContract","moneyWheel2Contract","useIfoApprove","tokenContract","spenderAddress","methods","constants","MaxUint256","send","from"],"mappings":"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","sourcesContent":["import { useCallback } from 'react'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport { Contract } from 'web3-eth-contract'\nimport { ethers } from 'ethers'\nimport { useDispatch } from 'react-redux'\nimport {updateUserAllowance, fetchFarmUserDataAsync, updateUserAllowance2} from 'state/actions'\nimport { approve } from 'utils/callHelpers'\nimport { useMasterchef, useCake, useLottery, useMoneyWheel, useMoneyWheel2, useWone, useSousChefBurn, useAutoRvrs } from './useContract'\n\n// Approve a Farm\nexport const useApprove = (lpContract: Contract) => {\n  const dispatch = useDispatch()\n  const { account }: { account: string } = useWallet()\n  const masterChefContract = useMasterchef()\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, masterChefContract, account)\n      dispatch(fetchFarmUserDataAsync(account))\n      return tx\n    } catch (e) {\n      return false\n    }\n  }, [account, dispatch, lpContract, masterChefContract])\n\n  return { onApprove: handleApprove }\n}\n\n// Approve a Pool\nexport const useSousApprove = (lpContract: Contract, sousId) => {\n  const dispatch = useDispatch()\n  const { account }: { account: string } = useWallet()\n  const sousChefContract = useAutoRvrs()\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, sousChefContract, account)\n      dispatch(updateUserAllowance(sousId, account))\n      return tx\n    } catch (e) {\n      return false\n    }\n  }, [account, dispatch, lpContract, sousChefContract, sousId])\n\n  return { onApprove: handleApprove }\n}\n\nexport const useSousApproveBurn = (lpContract: Contract, sousId) => {\n  const dispatch = useDispatch()\n  const { account }: { account: string } = useWallet()\n  const sousChefContract = useSousChefBurn(sousId)\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(lpContract, sousChefContract, account)\n      dispatch(updateUserAllowance2(sousId, account))\n      return tx\n    } catch (e) {\n      return false\n    }\n  }, [account, dispatch, lpContract, sousChefContract, sousId])\n\n  return { onApprove: handleApprove }\n}\n// Approve the lottery\nexport const useLotteryApprove = () => {\n  const { account }: { account: string } = useWallet()\n  const cakeContract = useCake()\n  const lotteryContract = useLottery()\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(cakeContract, lotteryContract, account)\n      return tx\n    } catch (e) {\n      return false\n    }\n  }, [account, cakeContract, lotteryContract])\n\n  return { onApprove: handleApprove }\n}\n\n/// Je moet in het token contract het wheel contract toestemming geven om namens jou tokens uit te mogen geven.\nexport const useMoneyWheelApprove = () => {\n  const { account }: { account: string } = useWallet()\n  const cakeContract = useCake()\n  const moneyWheelContract = useMoneyWheel()\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(cakeContract, moneyWheelContract, account)\n      return tx\n    } catch (e) {\n      return false\n    }\n  }, [account, cakeContract, moneyWheelContract])\n\n  return { onApprove: handleApprove }\n}\n\n/// Approve the Money Wheel2\nexport const useMoneyWheel2Approve = () => {\n  const { account }: { account: string } = useWallet()\n  const jewelContract = useWone()\n  const moneyWheel2Contract = useMoneyWheel2()\n\n  const handleApprove = useCallback(async () => {\n    try {\n      const tx = await approve(jewelContract, moneyWheel2Contract, account)\n      return tx\n    } catch (e) {\n      return false\n    }\n  }, [account, jewelContract, moneyWheel2Contract])\n\n  return { onApprove: handleApprove }\n}\n\n// Approve an IFO\nexport const useIfoApprove = (tokenContract: Contract, spenderAddress: string) => {\n  const { account } = useWallet()\n  const onApprove = useCallback(async () => {\n    try {\n      const tx = await tokenContract.methods\n        .approve(spenderAddress, ethers.constants.MaxUint256)\n        .send({ from: account })\n      return tx\n    } catch {\n      return false\n    }\n  }, [account, spenderAddress, tokenContract])\n\n  return onApprove\n}\n"]},"metadata":{},"sourceType":"module"}