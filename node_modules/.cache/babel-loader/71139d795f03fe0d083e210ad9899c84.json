{"ast":null,"code":"var _jsxFileName = \"/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/Farms/components/FarmCard/FarmCard.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport { Flex } from '@pancakeswap-libs/uikit';\nimport useI18n from 'hooks/useI18n';\nimport ExpandableSectionButton from 'components/ExpandableSectionButton';\nimport getLiquidityUrlPathParts from 'utils/getLiquidityUrlPathParts';\nimport styled from 'styled-components';\nimport CardHeading from './CardHeading';\nimport CardActionsContainer from './CardActionsContainer';\nimport { getTotalValueFromQuoteTokens, usePrices } from \"../../../../state/hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FCard = styled.div`\n  align-self: baseline;\n  background: #1E2129;\n  border-radius: 25px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 20px;\n  position: relative;\n  text-align: center;\n\n  border:0px solid #fff;\n  box-shadow: 1px 1px 7px #ccc;\n\n`;\n_c = FCard;\nconst CCARD = styled.div`\n  background: #1E2129;\n  border-radius: 20px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 10px;\n  position: center;\n  text-align: center;\n\n  `;\n_c2 = CCARD;\nconst DCard = styled.div`\nbackground-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\nborder-radius: 20px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 30px;\n  position: center;\n  text-align: center;\n\n\n`;\n_c3 = DCard;\nconst DetailsCard = styled.div`\n  background: #1E2129;\n  border-radius: 20px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 20px;\n  position: center;\n  text-align: center;\n`;\n_c4 = DetailsCard;\nconst Quote = styled.p`\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 0px;\n    text-shadow: 1px 1px 10px #ccc;\n`;\n_c5 = Quote;\nconst Text01 = styled.p`\n    color: #7F8997;\n    font-size: 12px;\n    font-weight: 500;\n    margin-bottom: 0px;\n    text-shadow: 0px 0px 0px #4E5C6D;\n`;\n_c6 = Text01;\nconst ExpandingWrapper = styled.div`\n  height: ${props => props.expanded ? '100%' : '0px'};\n  overflow: hidden;\n`;\n_c7 = ExpandingWrapper;\nconst Divider2 = styled.div`\n  background-color: #1E2129;\n  height: 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  width: 0%;\n`;\n_c8 = Divider2;\n\nconst FarmCard = ({\n  farm,\n  removed,\n  cakePrice,\n  bnbPrice,\n  ethereum,\n  account\n}) => {\n  _s();\n\n  // const isCommunityFarm = communityFarms.includes(farm.tokenSymbol)\n  // We assume the token name is coin pair + lp e.g. CAKE-BNB LP, LINK-BNB LP,\n  // NAR-CAKE LP. The images should be cake-bnb.svg, link-bnb.svg, nar-cake.svg\n  // const farmImage = farm.lpSymbol.split(' ')[0].toLocaleLowerCase()\n  const lpLabel = farm.version ? `${farm.lpSymbol} V${farm.version}` : `${farm.lpSymbol}`;\n  const earnLabel = 'MIS';\n  const TranslateString = useI18n();\n  const prices = usePrices();\n  const [showExpandableSection, setShowExpandableSection] = useState(false);\n  const {\n    quoteTokenAdresses,\n    quoteTokenSymbol,\n    tokenAddresses,\n    risk\n  } = farm;\n  const liquidityUrlPathParts = getLiquidityUrlPathParts({\n    quoteTokenAdresses,\n    quoteTokenSymbol,\n    tokenAddresses\n  });\n  const farmImage = farm.isTokenOnly ? farm.tokenSymbol.toLowerCase() : `${farm.tokenSymbol.toLowerCase()}-${farm.quoteTokenSymbol.toLowerCase()}`;\n  const totalValue = getTotalValueFromQuoteTokens(farm.quoteTokenAmount, farm.quoteTokenSymbol, prices);\n  const totalValueFormated = totalValue ? `$${Number(totalValue).toLocaleString(undefined, {\n    maximumFractionDigits: 0\n  })}` : '-';\n  const BLOCKS_PER_YEAR = new BigNumber(60 * 60 * 24 * 365); // first 30 is for 2s block times\n\n  const rewPerYear = new BigNumber(farm.vikingPerBlock).times(farm.poolWeight).div(new BigNumber(10).pow(18)).times(BLOCKS_PER_YEAR);\n  const farmApyFixed = rewPerYear.times(cakePrice).div(totalValue).times(100);\n  const farmAPY = farmApyFixed ? ` ${farmApyFixed && farmApyFixed.toNumber().toLocaleString(undefined, {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  })}%` : '...loading';\n  const Weekly = farmApyFixed ? ` ${farmApyFixed && farmApyFixed.div(53).toNumber().toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}%` : '...loading';\n  const apy = new BigNumber(farmApyFixed).div(100).div(52).plus(1).pow(52).times(100);\n  const APY = apy ? ` ${apy && apy.toNumber().toLocaleString(undefined, {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  })}%` : '...loading'; // console.log(\"APY\", farm.pid)\n  // console.log(\"rewPerYear\", rewPerYear && rewPerYear.toNumber())\n  // console.log(\"cakePrice\", cakePrice && cakePrice.toNumber())\n  // console.log(\"totalValue\", totalValue && totalValue.toNumber())\n  // console.log(\"farmAPY\", farmAPY)\n\n  return /*#__PURE__*/_jsxDEV(FCard, {\n    children: [farm.tokenSymbol === 'MIS', /*#__PURE__*/_jsxDEV(DCard, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeading, {\n        lpLabel: lpLabel,\n        multiplier: farm.multiplier,\n        risk: risk,\n        depositFee: farm.depositFeeBP,\n        farmImage: farmImage,\n        tokenSymbol: farm.tokenSymbol\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        mt: \"15px\",\n        marginBottom: \"6px\",\n        children: [/*#__PURE__*/_jsxDEV(Text01, {\n          children: \"APR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text01, {\n          children: \"Liquidity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this), !removed && /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(Quote, {\n          children: farmAPY\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Quote, {\n          children: totalValueFormated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        mt: \"15px\",\n        marginBottom: \"6px\",\n        children: [/*#__PURE__*/_jsxDEV(Text01, {\n          children: \"7 Day ROI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text01, {\n          children: \"Your Stake\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(Quote, {\n          children: Weekly\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Quote, {\n          children: \"$0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider2, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CCARD, {\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        justifyContent: \"right\",\n        children: /*#__PURE__*/_jsxDEV(ExpandableSectionButton, {\n          onClick: () => setShowExpandableSection(!showExpandableSection)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ExpandingWrapper, {\n      expanded: showExpandableSection,\n      children: /*#__PURE__*/_jsxDEV(DetailsCard, {\n        children: [/*#__PURE__*/_jsxDEV(CardActionsContainer, {\n          farm: farm,\n          ethereum: ethereum,\n          account: account\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          justifyContent: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FarmCard, \"EKRcFIVtLeCD3h2Ojc/PTMtOw28=\", false, function () {\n  return [useI18n, usePrices];\n});\n\n_c9 = FarmCard;\nexport default FarmCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"FCard\");\n$RefreshReg$(_c2, \"CCARD\");\n$RefreshReg$(_c3, \"DCard\");\n$RefreshReg$(_c4, \"DetailsCard\");\n$RefreshReg$(_c5, \"Quote\");\n$RefreshReg$(_c6, \"Text01\");\n$RefreshReg$(_c7, \"ExpandingWrapper\");\n$RefreshReg$(_c8, \"Divider2\");\n$RefreshReg$(_c9, \"FarmCard\");","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/Farms/components/FarmCard/FarmCard.tsx"],"names":["React","useState","BigNumber","Flex","useI18n","ExpandableSectionButton","getLiquidityUrlPathParts","styled","CardHeading","CardActionsContainer","getTotalValueFromQuoteTokens","usePrices","FCard","div","CCARD","DCard","DetailsCard","Quote","p","Text01","ExpandingWrapper","props","expanded","Divider2","FarmCard","farm","removed","cakePrice","bnbPrice","ethereum","account","lpLabel","version","lpSymbol","earnLabel","TranslateString","prices","showExpandableSection","setShowExpandableSection","quoteTokenAdresses","quoteTokenSymbol","tokenAddresses","risk","liquidityUrlPathParts","farmImage","isTokenOnly","tokenSymbol","toLowerCase","totalValue","quoteTokenAmount","totalValueFormated","Number","toLocaleString","undefined","maximumFractionDigits","BLOCKS_PER_YEAR","rewPerYear","vikingPerBlock","times","poolWeight","pow","farmApyFixed","farmAPY","toNumber","minimumFractionDigits","Weekly","apy","plus","APY","multiplier","depositFeeBP"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { Flex } from '@pancakeswap-libs/uikit'\nimport { Farm } from 'state/types'\nimport { provider } from 'web3-core'\nimport useI18n from 'hooks/useI18n'\nimport ExpandableSectionButton from 'components/ExpandableSectionButton'\nimport getLiquidityUrlPathParts from 'utils/getLiquidityUrlPathParts'\nimport { PoolCategory, QuoteToken } from 'config/constants/types'\nimport styled, { keyframes } from 'styled-components'\nimport CardHeading from './CardHeading'\nimport CardActionsContainer from './CardActionsContainer'\nimport {getTotalValueFromQuoteTokens, usePrices} from \"../../../../state/hooks\";\n\nexport interface FarmWithStakedValue extends Farm {\n  apy?: BigNumber\n}\n\n\nconst FCard = styled.div`\n  align-self: baseline;\n  background: #1E2129;\n  border-radius: 25px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 20px;\n  position: relative;\n  text-align: center;\n\n  border:0px solid #fff;\n  box-shadow: 1px 1px 7px #ccc;\n\n`\n\nconst CCARD = styled.div`\n  background: #1E2129;\n  border-radius: 20px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 10px;\n  position: center;\n  text-align: center;\n\n  `\n\nconst DCard = styled.div`\nbackground-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\nborder-radius: 20px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 30px;\n  position: center;\n  text-align: center;\n\n\n`\n\nconst DetailsCard = styled.div`\n  background: #1E2129;\n  border-radius: 20px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 20px;\n  position: center;\n  text-align: center;\n`\n\n\nconst Quote = styled.p`\n    font-size: 14px;\n    font-weight: 600;\n    margin-bottom: 0px;\n    text-shadow: 1px 1px 10px #ccc;\n`\n\n\nconst Text01 = styled.p`\n    color: #7F8997;\n    font-size: 12px;\n    font-weight: 500;\n    margin-bottom: 0px;\n    text-shadow: 0px 0px 0px #4E5C6D;\n`\n\nconst ExpandingWrapper = styled.div<{ expanded: boolean }>`\n  height: ${(props) => (props.expanded ? '100%' : '0px')};\n  overflow: hidden;\n`\n\nconst Divider2 = styled.div`\n  background-color: #1E2129;\n  height: 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  width: 0%;\n`\ninterface FarmCardProps {\n  farm: FarmWithStakedValue\n  removed: boolean\n  cakePrice?: BigNumber\n  bnbPrice?: BigNumber\n  ethereum?: provider\n  account?: string\n  poolCategory?: PoolCategory\n\n}\n\nconst FarmCard: React.FC<FarmCardProps> = ({ \n  farm, \n  removed, \n  cakePrice, \n  bnbPrice, \n  ethereum, \n  account, \n}) => {\n\n  // const isCommunityFarm = communityFarms.includes(farm.tokenSymbol)\n  // We assume the token name is coin pair + lp e.g. CAKE-BNB LP, LINK-BNB LP,\n  // NAR-CAKE LP. The images should be cake-bnb.svg, link-bnb.svg, nar-cake.svg\n  // const farmImage = farm.lpSymbol.split(' ')[0].toLocaleLowerCase()\n\n  const lpLabel = ( farm.version ? `${farm.lpSymbol} V${farm.version}` : `${farm.lpSymbol}` )\n  const earnLabel = 'MIS'\n  const TranslateString = useI18n()\n  const prices = usePrices()\n  const [showExpandableSection, setShowExpandableSection] = useState(false)\n  const { quoteTokenAdresses, quoteTokenSymbol, tokenAddresses, risk } = farm\n  const liquidityUrlPathParts = getLiquidityUrlPathParts({ quoteTokenAdresses, quoteTokenSymbol, tokenAddresses })\n  const farmImage = farm.isTokenOnly ? farm.tokenSymbol.toLowerCase() : `${farm.tokenSymbol.toLowerCase()}-${farm.quoteTokenSymbol.toLowerCase()}`\n  \n  const totalValue = getTotalValueFromQuoteTokens(farm.quoteTokenAmount, farm.quoteTokenSymbol, prices)\n\n  const totalValueFormated = totalValue\n    ? `$${Number(totalValue).toLocaleString(undefined, { maximumFractionDigits: 0 })}`\n    : '-'\n\n  const BLOCKS_PER_YEAR = new BigNumber(60 * 60 * 24 * 365) // first 30 is for 2s block times\n  const rewPerYear = new BigNumber(farm.vikingPerBlock).times(farm.poolWeight) .div(new BigNumber(10).pow(18)).times(BLOCKS_PER_YEAR)\n  const farmApyFixed = rewPerYear.times(cakePrice).div(totalValue).times(100)\n  const farmAPY = ( farmApyFixed ? ` ${farmApyFixed && farmApyFixed.toNumber().toLocaleString(undefined, {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  })}%` : '...loading' )\n  const Weekly = ( farmApyFixed ? ` ${farmApyFixed && farmApyFixed.div(53).toNumber().toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  })}%` : '...loading' )\n\n\n  const apy = new BigNumber (farmApyFixed).div(100).div(52).plus(1).pow(52).times(100)\n  \n  const APY = ( apy ? ` ${apy && apy.toNumber().toLocaleString(undefined, {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  })}%` : '...loading' )\n\n    \n    // console.log(\"APY\", farm.pid)\n    // console.log(\"rewPerYear\", rewPerYear && rewPerYear.toNumber())\n    // console.log(\"cakePrice\", cakePrice && cakePrice.toNumber())\n    // console.log(\"totalValue\", totalValue && totalValue.toNumber())\n    // console.log(\"farmAPY\", farmAPY)\n  \n  return (\n\n    <FCard>\n      \n      {farm.tokenSymbol === 'MIS'}\n      \n\n      <DCard>\n        <CardHeading\n          lpLabel={lpLabel}\n          multiplier={farm.multiplier}\n          risk={risk}\n          depositFee={farm.depositFeeBP}\n          farmImage={farmImage}\n          tokenSymbol={farm.tokenSymbol}\n        />\n\n\n          <Flex justifyContent='space-between' alignItems='center'  mt=\"15px\"  marginBottom='6px'  >\n            <Text01>APR</Text01>\n            <Text01>Liquidity</Text01>\n          </Flex>\n\n\n        {!removed && (\n        <Flex justifyContent='space-between'>\n          <Quote>{ farmAPY }</Quote>\n          <Quote>{totalValueFormated}</Quote>\n        </Flex> )}\n\n        <Flex justifyContent='space-between' alignItems='center'  mt=\"15px\"  marginBottom='6px'  >\n            <Text01>7 Day ROI</Text01>\n            <Text01>Your Stake</Text01>\n          </Flex>\n\n          <Flex justifyContent='space-between'>\n          <Quote>{Weekly}</Quote>\n          <Quote>$0</Quote>\n        </Flex>\n\n\n\n      </DCard>\n\n      <Divider2/>\n\n      <CCARD>\n\n      <Flex justifyContent='right'>\n        <ExpandableSectionButton onClick={() => setShowExpandableSection(!showExpandableSection)}/>\n      </Flex>\n      </CCARD>\n\n      <ExpandingWrapper expanded={showExpandableSection}>\n\n      <DetailsCard>\n        <CardActionsContainer farm={farm} ethereum={ethereum} account={account} />\n\n        <Flex justifyContent=\"left\">\n        {/* <Link external href={\n          farm.isTokenOnly ?\n            `https://app.defikingdoms.com/#/marketplace?inputCurrency=${tokenAddresses[process.env.REACT_APP_CHAIN_ID]}`\n            :\n            `https://app.defikingdoms.com/#/add/${liquidityUrlPathParts}`\n        }>\n          <span ><FaPlusCircle/> Add Liquidity </span>\n      </Link> */ }\n      </Flex>\n\n      </DetailsCard>\n\n      \n\n      </ExpandingWrapper>\n    </FCard>\n  )\n}\n\nexport default FarmCard\n"]},"metadata":{},"sourceType":"module"}