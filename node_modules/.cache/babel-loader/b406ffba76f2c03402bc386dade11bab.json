{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/ignacio/Documents/GitHub/reverse-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13;import React,{useCallback,useState}from'react';import styled from'styled-components';import{Flex}from'@pancakeswap-libs/uikit';import BigNumber from'bignumber.js';import{usePriceCakeBusd}from'state/hooks';import{useAllHarvest}from'hooks/useHarvest';import{useWallet}from'@binance-chain/bsc-use-wallet';import useFarmsWithBalance from'hooks/useFarmsWithBalance';import{getBalanceNumber}from'utils/formatBalance';import useI18n from'hooks/useI18n';import farms from'state/farms';import{FaHandHoldingUsd,FaQuestionCircle}from'react-icons/fa';import useTokenBalance,{useTotalSupply,useBurnedBalance}from'hooks/useTokenBalance';import ExpandableSectionButton from'components/ExpandableSectionButton';import Container from'components/layout/Container';import{getCakeAddress}from'../../utils/addressHelpers';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Price=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  -webkit-box-align: center;\\n  align-items: center;\\n  background-color: rgba(0, 0, 0,0) !important;\\n  border: 1px;\\n  border-style: solid !important;\\n  border-color: #405fb4 !important;\\n  border-radius: 16px;\\n  color: #405fb4;\\n  font-size: 15px;\\n  font-weight: 800;\\n  width: 100%;\\n  display: inline-flex;\\n  min-height: 21px;\\n  max-height: 37px;\\n  letter-spacing: 0.03em;\\n  padding: 15px;\\n\"])));var DashboardPage2=styled(Container)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  min-height: calc(1vh - 64px);\\n  padding-top: 16px;\\n  padding-bottom: 6px;\\n  padding: 5px;\\n  max-width: 770px;\\n\\n  \",\" {\\n    padding-top: 24px;\\n    padding-bottom: 24px;\\n  }\\n\\n  \",\" {\\n    padding-top: 21px;\\n    padding-bottom: 32px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.sm;},function(_ref2){var theme=_ref2.theme;return theme.mediaQueries.lg;});var StyledBtn=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  -webkit-box-align: center;\\n  align-items: center;\\n  background-color: rgba(0, 0, 0,0) !important;\\n  border: 1px;\\n  border-style: solid !important;\\n  border-color: #ffff !important;\\n  border-radius: 10px;\\n  color: #ffff;\\n  font-size: 15px;\\n  font-weight: 400;\\n  width: 100%;\\n  display: inline-flex;\\n  min-height: 18px;\\n  max-height: 30px;\\n  max-width: 40px;\\n  padding: 12px;\\n  box-shadow: 0px 0px 10px #ccc;\\n\\n  \"])));var Test=styled.text(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background-color: rgba(0, 0, 0,0) !important;\\n  background: rgba(0, 0, 0,0) !important;\\n  font-size: 20px;\\n  font-weight: 600;\\n  text-shadow: 0px 0px 10px #ccc;\\n\\n\"])));var Stat=styled.text(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 15px;\\n  font-weight: 500;\\n  text-shadow: 0px 0px 10px #ccc;\\n\"])));var Stat2=styled.text(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 15px;\\n  font-weight: 700;\\n  text-shadow: 0px 0px 10px #ccc;\\n\"])));var DCard=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  background: #2E3543;\\n  border-radius: 20px;\\n  padding: 30px;\\n  box-shadow: 1px 1px 3px #fff;\\n  background-image: linear-gradient(to right, #3B4557 , #2B3344);\\n\\n\\n\\n  position: center;\\n  text-align: center;\\n\"])));var Sub=styled.p(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\ncolor: #7F8997;\\nfont-size: 13px;\\nfont-weight: 500;\\nmargin-bottom: 0px;\\ntext-shadow: 0px 0px 0px #4E5C6D;\\n\"])));var DashboardCard=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  align-self: baseline;\\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\\n\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 0px;\\n  position: relative;\\n  text-align: center;\\n\\n\\n  border: 0px solid #fff;\\n  box-shadow: 0px 0px 5px #ccc;\\n\\n\"])));var DashCard=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  align-self: baseline;\\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 15px;\\n  position: relative;\\n  text-align: center;\\n\\n\\n\\n\"])));var MoneyWheel=function MoneyWheel(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pendingTx=_useState2[0],setPendingTx=_useState2[1];var _useWallet=useWallet(),account=_useWallet.account;var TranslateString=useI18n();var farmsWithBalance=useFarmsWithBalance();var cakeBalance=getBalanceNumber(useTokenBalance(getCakeAddress())).toLocaleString('en-us',{maximumFractionDigits:1});var eggPrice=usePriceCakeBusd().toNumber();var totalSupply=useTotalSupply();var burnedBalance=useBurnedBalance(getCakeAddress());var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showExpandableSection=_useState4[0],setShowExpandableSection=_useState4[1];var earningsSum=farmsWithBalance.reduce(function(accum,farm){return accum+new BigNumber(farm.balance).div(new BigNumber(10).pow(18)).toNumber();},0);var balancesWithValue=farmsWithBalance.filter(function(balanceType){return balanceType.balance.toNumber()>0;});var _useAllHarvest=useAllHarvest(balancesWithValue.map(function(farmWithBalance){return farmWithBalance.pid;})),onReward=_useAllHarvest.onReward;var cakePriceUsd=usePriceCakeBusd();var misPrice=usePriceCakeBusd();var tokenPrice=cakePriceUsd.toNumber().toFixed(2);var circSupply=totalSupply?totalSupply.minus(burnedBalance):new BigNumber(0);var cakeSupply=getBalanceNumber(circSupply);var circulatingMath=new BigNumber(cakeSupply).minus(5000000);var circulatingRVRS=circulatingMath.toNumber();var circulatingRvrsString=circulatingMath.toNumber().toLocaleString('en-us',{maximumFractionDigits:0});var mCap=misPrice.times(circulatingRVRS).toNumber().toLocaleString('en-us',{maximumFractionDigits:0});var marketCap=misPrice.times(circSupply).isNaN()||!misPrice.times(circSupply).isFinite()?new BigNumber(0):misPrice.times(circSupply);var vikingPerBlock=0;// if (process.env.REACT_APP_DEBUG === \"true\"){ console.log(farms[0], 'testing viking per block') }\nif(farms&&farms[0]&&farms[0].vikingPerBlock){vikingPerBlock=new BigNumber(farms[0].vikingPerBlock).div(new BigNumber(10).pow(18)).toNumber();}var harvestAllFarms=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPendingTx(true);_context.prev=1;_context.next=4;return onReward();case 4:_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);case 8:_context.prev=8;setPendingTx(false);return _context.finish(8);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,6,8,11]]);})),[onReward]);return/*#__PURE__*/_jsx(DashboardPage2,{children:/*#__PURE__*/_jsx(DashboardCard,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(DashCard,{style:{padding:'40px',marginLeft:'0px',marginRight:'0px'},children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"left\",ml:\"10px\",mr:\"10px\",marginBottom:\"-5px\",mt:\"0px\",children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsxs(Test,{children:[TranslateString(9299,'Farm'),\"\\xA0\"]}),/*#__PURE__*/_jsxs(StyledBtn,{id:\"harvest-all\",disabled:balancesWithValue.length<=0||pendingTx,onClick:harvestAllFarms,style:{'marginLeft':'15px','marginTop':'-5px'},children:[pendingTx?/*#__PURE__*/_jsx(FaHandHoldingUsd,{}):/*#__PURE__*/_jsx(FaHandHoldingUsd,{}),\" \"]})]}),/*#__PURE__*/_jsx(ExpandableSectionButton,{onClick:function onClick(){return setShowExpandableSection(!showExpandableSection);}})]}),/*#__PURE__*/_jsx(ExpandingWrapper,{expanded:showExpandableSection,children:/*#__PURE__*/_jsxs(DetailsCard,{children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"center\",ml:\"20px\",mr:\"40px\",mt:\"35px\",marginBottom:\"0px\",children:[/*#__PURE__*/_jsxs(Stat,{children:[\"$\",tokenPrice]}),/*#__PURE__*/_jsxs(Stat,{children:[\"$\",mCap]})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"center\",ml:\"20px\",mr:\"40px\",mt:\"8px\",marginBottom:\"0px\",children:[/*#__PURE__*/_jsx(Sub,{children:\"Price\"}),/*#__PURE__*/_jsx(Sub,{children:\"Market Cap\"})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"center\",ml:\"20px\",mr:\"40px\",mt:\"20px\",marginBottom:\"0px\",children:[/*#__PURE__*/_jsx(Stat,{children:circulatingRvrsString}),/*#__PURE__*/_jsxs(Stat,{children:[cakeBalance,\" RVRS\"]})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"center\",ml:\"20px\",mr:\"40px\",mt:\"8px\",marginBottom:\"0px\",children:[/*#__PURE__*/_jsx(Sub,{children:\"Circulating Supply\"}),/*#__PURE__*/_jsx(Sub,{children:\"On Wallet\"})]}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"left\",ml:\"20px\",mr:\"40px\",mt:\"30px\",marginBottom:\"0px\",children:/*#__PURE__*/_jsxs(Stat,{children:[/*#__PURE__*/_jsx(FaQuestionCircle,{}),\" Pools incentivize liquidity by rewarding liquidity providers in RVRS tokens.\"]})})]})})]})})})});};export default MoneyWheel;var Divider=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  background-color: #1E2129;\\n  height: 0px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 7px;\\n  margin-bottom: 7px;\\n  width: 0%;\\n\"])));var ExpandingWrapper=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  height: \",\";\\n  overflow: hidden;\\n\"])),function(props){return props.expanded?'100%':'0px';});var DetailsCard=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\nbackground: rgba(0, 0, 0,0) !important;\\nborder-radius: 0px;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  padding: 10px;\\n  position: center;\\n  text-align: center;\\n\"])));","map":{"version":3,"sources":["/Users/ignacio/Documents/GitHub/reverse-frontend/src/views/PoolsDashboard1/dashboard.tsx"],"names":["React","useCallback","useState","styled","Flex","BigNumber","usePriceCakeBusd","useAllHarvest","useWallet","useFarmsWithBalance","getBalanceNumber","useI18n","farms","FaHandHoldingUsd","FaQuestionCircle","useTokenBalance","useTotalSupply","useBurnedBalance","ExpandableSectionButton","Container","getCakeAddress","Price","button","DashboardPage2","theme","mediaQueries","sm","lg","StyledBtn","Test","text","Stat","Stat2","DCard","div","Sub","p","DashboardCard","DashCard","MoneyWheel","pendingTx","setPendingTx","account","TranslateString","farmsWithBalance","cakeBalance","toLocaleString","maximumFractionDigits","eggPrice","toNumber","totalSupply","burnedBalance","showExpandableSection","setShowExpandableSection","earningsSum","reduce","accum","farm","balance","pow","balancesWithValue","filter","balanceType","map","farmWithBalance","pid","onReward","cakePriceUsd","misPrice","tokenPrice","toFixed","circSupply","minus","cakeSupply","circulatingMath","circulatingRVRS","circulatingRvrsString","mCap","times","marketCap","isNaN","isFinite","vikingPerBlock","harvestAllFarms","padding","marginLeft","marginRight","length","Divider","ExpandingWrapper","props","expanded","DetailsCard"],"mappings":"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","sourcesContent":["import React, {useCallback, useState} from 'react'\nimport styled from 'styled-components'\nimport { BaseLayout, Button, Card, Flex,  } from '@pancakeswap-libs/uikit'\nimport BigNumber from 'bignumber.js'\nimport { usePriceCakeBusd } from 'state/hooks'\nimport { useAllHarvest } from 'hooks/useHarvest'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport useFarmsWithBalance from 'hooks/useFarmsWithBalance'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport useI18n from 'hooks/useI18n'\nimport CakeHarvestBalance from 'views/Home/components/CakeHarvestBalance'\nimport UnlockButton from 'components/UnlockButton'\nimport CakeWalletBalance from 'views/Home/components/CakeWalletBalance'\nimport CardValue from 'views/Home/components/CardValue'\nimport DashboardPage from 'components/layout/DashboardPage'\nimport farms from 'state/farms'\nimport { FaHandHoldingUsd, FaQuestion, FaQuestionCircle } from 'react-icons/fa';\n\nimport { useTotalRewards } from 'hooks/useTickets'\n\nimport useTokenBalance, { useTotalSupply, useBurnedBalance } from 'hooks/useTokenBalance'\nimport { Link } from 'react-router-dom'\nimport ExpandableSectionButton from 'components/ExpandableSectionButton'\nimport Container from 'components/layout/Container'\nimport { getCakeAddress } from '../../utils/addressHelpers'\n\nconst Price = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #405fb4 !important;\n  border-radius: 16px;\n  color: #405fb4;\n  font-size: 15px;\n  font-weight: 800;\n  width: 100%;\n  display: inline-flex;\n  min-height: 21px;\n  max-height: 37px;\n  letter-spacing: 0.03em;\n  padding: 15px;\n`\n\nconst DashboardPage2 = styled(Container)`\n  min-height: calc(1vh - 64px);\n  padding-top: 16px;\n  padding-bottom: 6px;\n  padding: 5px;\n  max-width: 770px;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    padding-top: 24px;\n    padding-bottom: 24px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    padding-top: 21px;\n    padding-bottom: 32px;\n  }\n`\n\nconst StyledBtn = styled.button`\n  -webkit-box-align: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0,0) !important;\n  border: 1px;\n  border-style: solid !important;\n  border-color: #ffff !important;\n  border-radius: 10px;\n  color: #ffff;\n  font-size: 15px;\n  font-weight: 400;\n  width: 100%;\n  display: inline-flex;\n  min-height: 18px;\n  max-height: 30px;\n  max-width: 40px;\n  padding: 12px;\n  box-shadow: 0px 0px 10px #ccc;\n\n  `\n\n\n\nconst Test = styled.text`\n  background-color: rgba(0, 0, 0,0) !important;\n  background: rgba(0, 0, 0,0) !important;\n  font-size: 20px;\n  font-weight: 600;\n  text-shadow: 0px 0px 10px #ccc;\n\n`\n\nconst Stat = styled.text`\n  font-size: 15px;\n  font-weight: 500;\n  text-shadow: 0px 0px 10px #ccc;\n`\n\nconst Stat2 = styled.text`\n  font-size: 15px;\n  font-weight: 700;\n  text-shadow: 0px 0px 10px #ccc;\n`\n\nconst DCard = styled.div`\n  background: #2E3543;\n  border-radius: 20px;\n  padding: 30px;\n  box-shadow: 1px 1px 3px #fff;\n  background-image: linear-gradient(to right, #3B4557 , #2B3344);\n\n\n\n  position: center;\n  text-align: center;\n`\n\nconst Sub = styled.p`\ncolor: #7F8997;\nfont-size: 13px;\nfont-weight: 500;\nmargin-bottom: 0px;\ntext-shadow: 0px 0px 0px #4E5C6D;\n`\n\n\nconst DashboardCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0px;\n  position: relative;\n  text-align: center;\n\n\n  border: 0px solid #fff;\n  box-shadow: 0px 0px 5px #ccc;\n\n`\n\nconst DashCard = styled.div`\n  align-self: baseline;\n  background-image: linear-gradient(to right, #2E3646, #3B4557 , #2B3344);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 15px;\n  position: relative;\n  text-align: center;\n\n\n\n`\n\n  \nconst MoneyWheel: React.FC = () => {\n  const [pendingTx, setPendingTx] = useState(false)\n  const { account } = useWallet()\n  const TranslateString = useI18n()\n  const farmsWithBalance = useFarmsWithBalance()\n  const cakeBalance = getBalanceNumber(useTokenBalance(getCakeAddress())).toLocaleString('en-us',{ maximumFractionDigits: 1 })\n  const eggPrice = usePriceCakeBusd().toNumber()\n  const totalSupply = useTotalSupply()\n  const burnedBalance = useBurnedBalance(getCakeAddress())\n  const [showExpandableSection, setShowExpandableSection] = useState(false)\n  const earningsSum = farmsWithBalance.reduce((accum, farm) => {\n    return accum + new BigNumber(farm.balance).div(new BigNumber(10).pow(18)).toNumber()\n  }, 0)\n  const balancesWithValue = farmsWithBalance.filter((balanceType) => balanceType.balance.toNumber() > 0)\n  const { onReward } = useAllHarvest(balancesWithValue.map((farmWithBalance) => farmWithBalance.pid))\n  const cakePriceUsd = usePriceCakeBusd()\n  const misPrice = usePriceCakeBusd();\n  const tokenPrice = cakePriceUsd.toNumber().toFixed(2);\n  const circSupply = totalSupply ? totalSupply.minus(burnedBalance) : new BigNumber(0);\n  const cakeSupply = getBalanceNumber(circSupply);\n  const circulatingMath = new BigNumber(cakeSupply).minus(5000000);\n  const circulatingRVRS = circulatingMath.toNumber();\n  const circulatingRvrsString = circulatingMath.toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const mCap = misPrice.times(circulatingRVRS).toNumber().toLocaleString('en-us',{ maximumFractionDigits: 0 });\n  const marketCap = ( misPrice.times(circSupply).isNaN() || ! misPrice.times(circSupply).isFinite() \n  ? new BigNumber(0) : misPrice.times(circSupply) );\n\n  let vikingPerBlock = 0;\n  // if (process.env.REACT_APP_DEBUG === \"true\"){ console.log(farms[0], 'testing viking per block') }\n  if(farms && farms[0] && farms[0].vikingPerBlock){\n    vikingPerBlock = new BigNumber(farms[0].vikingPerBlock).div(new BigNumber(10).pow(18)).toNumber();\n  }\n\n  const harvestAllFarms = useCallback(async () => {\n    setPendingTx(true)\n    try {\n      await onReward()\n    } catch (error) {\n      // TODO: find a way to handle when the user rejects transaction or it fails\n    } finally {\n      setPendingTx(false)\n    }\n  }, [onReward])\n\n\n  return (\n    <DashboardPage2>\n\n      <DashboardCard>\n        <div>\n\n            <DashCard style={{padding:'40px', marginLeft:'0px', marginRight:'0px'}}>\n\n              <Flex justifyContent='space-between' alignItems='left'  ml='10px' mr='10px'  marginBottom='-5px' mt='0px'> \n\n                <Flex>\n                  <Test>{TranslateString(9299, 'Farm')}&nbsp;</Test>\n                  <StyledBtn \n                      id=\"harvest-all\" \n                      disabled={balancesWithValue.length <= 0 || pendingTx} \n                      onClick={harvestAllFarms} \n                      style={{'marginLeft':'15px', 'marginTop':'-5px'}}>\n                      {pendingTx ? <FaHandHoldingUsd/> : <FaHandHoldingUsd/>} </StyledBtn>\n                </Flex>\n\n                  <ExpandableSectionButton onClick={() => setShowExpandableSection(!showExpandableSection)}/>\n\n                </Flex>\n\n              <ExpandingWrapper expanded={showExpandableSection}>\n\n                <DetailsCard>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px' mt=\"35px\"  marginBottom='0px'  > \n                    <Stat>${tokenPrice}</Stat>\n                    <Stat>${mCap}</Stat>\n                  </Flex>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px'  mt=\"8px\"  marginBottom='0px'  >\n                      <Sub>Price</Sub>\n                      <Sub>Market Cap</Sub> \n                  </Flex>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px'    mt=\"20px\"  marginBottom='0px'  > \n                    <Stat>{circulatingRvrsString}</Stat>\n                    <Stat>{cakeBalance} RVRS</Stat>\n                  </Flex>\n\n                  <Flex justifyContent='space-between' alignItems='center' ml='20px' mr='40px'    mt=\"8px\"  marginBottom='0px'  >\n                    <Sub>Circulating Supply</Sub>\n                    <Sub>On Wallet</Sub>\n                  </Flex>\n\n                  <Flex justifyContent=\"left\" ml='20px' mr='40px'  mt=\"30px\"  marginBottom='0px' >\n                    <Stat><FaQuestionCircle/> Pools incentivize liquidity by rewarding liquidity providers in RVRS tokens.</Stat>\n                  </Flex>\n\n                </DetailsCard>\n\n              </ExpandingWrapper>\n            </DashCard>\n          </div>\n        </DashboardCard>\n    </DashboardPage2>\n  )\n}\nexport default MoneyWheel\n\n\nconst Divider = styled.div`\n  background-color: #1E2129;\n  height: 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  width: 0%;\n`\n\nconst ExpandingWrapper = styled.div<{ expanded: boolean }>`\n  height: ${(props) => (props.expanded ? '100%' : '0px')};\n  overflow: hidden;\n`\nconst DetailsCard = styled.div`\nbackground: rgba(0, 0, 0,0) !important;\nborder-radius: 0px;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 10px;\n  position: center;\n  text-align: center;\n`"]},"metadata":{},"sourceType":"module"}